{"version":3,"file":"index.js","sources":["../src/support/unsupported-environment.ts","../src/support/supports-scroll-behavior.ts","../node_modules/tslib/tslib.es6.js","../src/util/scrolling-element.ts","../src/util/attribute.ts","../src/util/get-scroll-behavior.ts","../src/util/easing.ts","../src/util/disable-scroll-snap.ts","../src/smooth-scroll/smooth-scroll/smooth-scroll.ts","../src/util/now.ts","../src/original/element/scroll.ts","../src/original/window/scroll.ts","../src/original/element/scroll-by.ts","../src/original/window/scroll-by.ts","../src/original/element/scroll-to.ts","../src/original/window/scroll-to.ts","../src/scroll-method/get-original-scroll-method-for-kind.ts","../src/smooth-scroll/get-smooth-scroll-options/get-smooth-scroll-options.ts","../src/util/ensure-numeric.ts","../src/util/is-scroll-to-options.ts","../src/patch/shared.ts","../src/patch/element/scroll.ts","../src/patch/element/scroll-by.ts","../src/patch/element/scroll-to.ts","../src/patch/window/scroll.ts","../src/patch/window/scroll-by.ts","../src/patch/window/scroll-to.ts","../src/util/get-parent.ts","../src/util/find-nearest-ancestor-with-scroll-behavior.ts","../src/util/find-nearest-root.ts","../src/util/get-location-origin.ts","../src/patch/anchor/catch-navigation.ts","../src/original/element/scroll-into-view.ts","../src/patch/element/compute-scroll-into-view.ts","../src/patch/element/scroll-into-view.ts","../src/original/element/scroll-top.ts","../src/patch/element/scroll-top.ts","../src/original/element/scroll-left.ts","../src/patch/element/scroll-left.ts","../src/patch/patch.ts","../src/support/supports-element-prototype-scroll-methods.ts","../src/index.ts"],"sourcesContent":["export const UNSUPPORTED_ENVIRONMENT = typeof window === \"undefined\";\n","import {UNSUPPORTED_ENVIRONMENT} from \"./unsupported-environment\";\n\n/**\n * Is true if the browser natively supports the 'scroll-behavior' CSS-property.\n * @type {boolean}\n */\nexport const SUPPORTS_SCROLL_BEHAVIOR = UNSUPPORTED_ENVIRONMENT ? false : \"scrollBehavior\" in document.documentElement.style;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","export function getScrollingElement(): HTMLElement {\n\tif (document.scrollingElement != null) {\n\t\treturn document.scrollingElement as HTMLElement;\n\t} else {\n\t\treturn document.documentElement;\n\t}\n}\n","const STYLE_ATTRIBUTE_PROPERTY_NAME = \"scroll-behavior\";\nconst STYLE_ATTRIBUTE_PROPERTY_REGEXP = new RegExp(`${STYLE_ATTRIBUTE_PROPERTY_NAME}:\\\\s*([^;]*)`);\n\n/**\n * Given an Element, this function appends the given ScrollBehavior CSS property value to the elements' 'style' attribute.\n * If it doesnt already have one, it will add it.\n * @param {Element} element\n * @param {ScrollBehavior} behavior\n */\nexport function appendScrollBehaviorToStyleAttribute(element: Element, behavior: ScrollBehavior): void {\n\tconst addition = `${STYLE_ATTRIBUTE_PROPERTY_NAME}:${behavior}`;\n\tlet attributeValue = element.getAttribute(\"style\");\n\tif (attributeValue == null || attributeValue === \"\") {\n\t\telement.setAttribute(\"style\", addition);\n\t\treturn;\n\t}\n\n\t// The style attribute may already include a 'scroll-behavior:<something>' in which case that should be replaced\n\tconst existingValueForProperty = parseScrollBehaviorFromStyleAttribute(element);\n\tif (existingValueForProperty != null) {\n\t\tconst replacementProperty = `${STYLE_ATTRIBUTE_PROPERTY_NAME}:${existingValueForProperty}`;\n\t\t// Replace the variant that ends with a semi-colon which it may\n\t\tattributeValue = attributeValue.replace(`${replacementProperty};`, \"\");\n\t\t// Replace the variant that *doesn't* end with a semi-colon\n\t\tattributeValue = attributeValue.replace(replacementProperty, \"\");\n\t}\n\n\t// Now, append the behavior to the string.\n\telement.setAttribute(\"style\", attributeValue.endsWith(\";\") ? `${attributeValue}${addition}` : `;${attributeValue}${addition}`);\n}\n\n/**\n * Given an Element, this function attempts to parse its 'style' attribute (if it has one)' to extract\n * a value for the 'scroll-behavior' CSS property (if it is given within that style attribute)\n * @param {Element} element\n * @returns {ScrollBehavior?}\n */\nexport function parseScrollBehaviorFromStyleAttribute(element: Element): ScrollBehavior | undefined {\n\tconst styleAttributeValue = element.getAttribute(\"style\");\n\tif (styleAttributeValue != null && styleAttributeValue.includes(STYLE_ATTRIBUTE_PROPERTY_NAME)) {\n\t\tconst match = styleAttributeValue.match(STYLE_ATTRIBUTE_PROPERTY_REGEXP);\n\t\tif (match != null) {\n\t\t\tconst [, behavior] = match;\n\t\t\tif (behavior != null && behavior !== \"\") {\n\t\t\t\treturn behavior as ScrollBehavior;\n\t\t\t}\n\t\t}\n\t}\n\treturn undefined;\n}\n","import {getScrollingElement} from \"./scrolling-element\";\nimport {parseScrollBehaviorFromStyleAttribute} from \"./attribute\";\n\nconst styleDeclarationPropertyName = \"scrollBehavior\" as keyof CSSStyleDeclaration;\nexport type ScrollBehaviorRawValue = ScrollBehavior | null | \"\";\n\n/**\n * Determines the scroll behavior to use, depending on the given ScrollOptions and the position of the Element\n * within the DOM\n * @param {Element|HTMLElement|Window} inputTarget\n * @param {ScrollOptions} [options]\n * @returns {ScrollBehavior}\n */\nexport function getScrollBehavior(inputTarget: Element | HTMLElement | Window, options?: ScrollOptions): ScrollBehavior | undefined {\n\t// If the given 'behavior' is 'smooth', apply smooth scrolling no matter what\n\tif (options != null && options.behavior === \"smooth\") return \"smooth\";\n\n\tconst target: HTMLElement = \"style\" in inputTarget ? inputTarget : getScrollingElement();\n\n\tlet value: ScrollBehavior | undefined;\n\n\tif (\"style\" in target) {\n\t\t// Check if scroll-behavior is set as a property on the CSSStyleDeclaration\n\t\tconst scrollBehaviorPropertyValue = target.style[styleDeclarationPropertyName] as ScrollBehaviorRawValue;\n\t\t// Return it if it is given and has a proper value\n\t\tif (scrollBehaviorPropertyValue != null && scrollBehaviorPropertyValue !== \"\") {\n\t\t\tvalue = scrollBehaviorPropertyValue;\n\t\t}\n\t}\n\n\tif (value == null) {\n\t\tconst attributeValue = target.getAttribute(\"scroll-behavior\");\n\t\tif (attributeValue != null && attributeValue !== \"\") {\n\t\t\tvalue = attributeValue as ScrollBehavior;\n\t\t}\n\t}\n\n\tif (value == null) {\n\t\t// Otherwise, check if it is set as an inline style\n\t\tvalue = parseScrollBehaviorFromStyleAttribute(target);\n\t}\n\n\tif (value == null) {\n\t\t// Take the computed style for the element and see if it contains a specific 'scroll-behavior' value\n\t\tconst computedStyle = getComputedStyle(target);\n\t\tconst computedStyleValue = computedStyle.getPropertyValue(\"scrollBehavior\") as ScrollBehaviorRawValue;\n\t\tif (computedStyleValue != null && computedStyleValue !== \"\") {\n\t\t\tvalue = computedStyleValue;\n\t\t}\n\t}\n\n\t// In all other cases, use the value from the CSSOM\n\treturn value;\n}\n","const HALF = 0.5;\n\n/**\n * The easing function to use when applying the smooth scrolling\n * @param {number} k\n * @returns {number}\n */\nexport function ease(k: number) {\n\treturn HALF * (1 - Math.cos(Math.PI * k));\n}\n","import {ScrollSnappable} from \"./scroll-snappable\";\nimport {SUPPORTS_SCROLL_BEHAVIOR} from \"../support/supports-scroll-behavior\";\nimport {appendScrollBehaviorToStyleAttribute, parseScrollBehaviorFromStyleAttribute} from \"./attribute\";\nimport {getScrollingElement} from \"./scrolling-element\";\n\nexport interface DisableScrollSnapResult {\n\treset(): void;\n}\n\nexport interface DisableScrollSnapReleaser {\n\tcachedScrollSnapValue: string | null;\n\tcachedScrollBehaviorStyleAttributeValue: ScrollBehavior | undefined;\n\tsecondaryScroller: ScrollSnappable | undefined;\n\tsecondaryScrollerCachedScrollSnapValue: string | null | undefined;\n\tsecondaryScrollerCachedScrollBehaviorStyleAttributeValue: ScrollBehavior | undefined;\n\trelease(): void;\n}\n\nconst NOOP: DisableScrollSnapResult = {\n\treset: () => {}\n};\n\nconst map = typeof WeakMap === \"undefined\" ? undefined : new WeakMap<ScrollSnappable, DisableScrollSnapReleaser>();\n\nexport function disableScrollSnap(scroller: ScrollSnappable): DisableScrollSnapResult {\n\t// If scroll-behavior is natively supported, or if there is no native WeakMap support, there's no need for this fix\n\tif (SUPPORTS_SCROLL_BEHAVIOR || map == null) {\n\t\treturn NOOP;\n\t}\n\n\tconst scrollingElement = getScrollingElement();\n\n\tlet cachedScrollSnapValue: string | null;\n\tlet cachedScrollBehaviorStyleAttributeValue: ScrollBehavior | undefined;\n\tlet secondaryScroller: ScrollSnappable | undefined;\n\tlet secondaryScrollerCachedScrollSnapValue: string | null | undefined;\n\tlet secondaryScrollerCachedScrollBehaviorStyleAttributeValue: ScrollBehavior | undefined;\n\tconst existingResult = map.get(scroller);\n\tif (existingResult != null) {\n\t\tcachedScrollSnapValue = existingResult.cachedScrollSnapValue;\n\t\tcachedScrollBehaviorStyleAttributeValue = existingResult.cachedScrollBehaviorStyleAttributeValue;\n\t\tsecondaryScroller = existingResult.secondaryScroller;\n\t\tsecondaryScrollerCachedScrollSnapValue = existingResult.secondaryScrollerCachedScrollSnapValue;\n\t\tsecondaryScrollerCachedScrollBehaviorStyleAttributeValue = existingResult.secondaryScrollerCachedScrollBehaviorStyleAttributeValue;\n\t\texistingResult.release();\n\t} else {\n\t\tcachedScrollSnapValue = scroller.style.scrollSnapType === \"\" ? null : scroller.style.scrollSnapType;\n\t\tcachedScrollBehaviorStyleAttributeValue = parseScrollBehaviorFromStyleAttribute(scroller);\n\t\tsecondaryScroller = scroller === scrollingElement && scrollingElement !== document.body ? (document.body as ScrollSnappable) : undefined;\n\t\tsecondaryScrollerCachedScrollSnapValue =\n\t\t\tsecondaryScroller == null ? undefined : secondaryScroller.style.scrollSnapType === \"\" ? null : secondaryScroller.style.scrollSnapType;\n\t\tsecondaryScrollerCachedScrollBehaviorStyleAttributeValue =\n\t\t\tsecondaryScroller == null ? undefined : parseScrollBehaviorFromStyleAttribute(secondaryScroller);\n\n\t\tconst cachedComputedScrollSnapValue = getComputedStyle(scroller).getPropertyValue(\"scroll-snap-type\");\n\t\tconst secondaryScrollerCachedComputedScrollSnapValue =\n\t\t\tsecondaryScroller == null ? undefined : getComputedStyle(secondaryScroller).getPropertyValue(\"scroll-snap-type\");\n\n\t\t// If it just so happens that there actually isn't any scroll snapping going on, there's no point in performing any additional work here.\n\t\tif (cachedComputedScrollSnapValue === \"none\" && secondaryScrollerCachedComputedScrollSnapValue === \"none\") {\n\t\t\treturn NOOP;\n\t\t}\n\t}\n\n\tscroller.style.scrollSnapType = \"none\";\n\tif (secondaryScroller !== undefined) {\n\t\tsecondaryScroller.style.scrollSnapType = \"none\";\n\t}\n\tif (cachedScrollBehaviorStyleAttributeValue !== undefined) {\n\t\tappendScrollBehaviorToStyleAttribute(scroller, cachedScrollBehaviorStyleAttributeValue);\n\t}\n\n\tif (secondaryScroller !== undefined && secondaryScrollerCachedScrollBehaviorStyleAttributeValue !== undefined) {\n\t\tappendScrollBehaviorToStyleAttribute(secondaryScroller, secondaryScrollerCachedScrollBehaviorStyleAttributeValue);\n\t}\n\n\tlet hasReleased = false;\n\n\tconst eventTarget = scroller === scrollingElement ? window : scroller;\n\n\tfunction release() {\n\t\teventTarget.removeEventListener(\"scroll\", resetHandler);\n\t\tif (map != null) {\n\t\t\tmap.delete(scroller);\n\t\t}\n\t\thasReleased = true;\n\t}\n\n\tfunction resetHandler() {\n\t\tscroller.style.scrollSnapType = cachedScrollSnapValue;\n\n\t\tif (secondaryScroller != null && secondaryScrollerCachedScrollSnapValue !== undefined) {\n\t\t\tsecondaryScroller.style.scrollSnapType = secondaryScrollerCachedScrollSnapValue;\n\t\t}\n\n\t\tif (cachedScrollBehaviorStyleAttributeValue !== undefined) {\n\t\t\tappendScrollBehaviorToStyleAttribute(scroller, cachedScrollBehaviorStyleAttributeValue);\n\t\t}\n\n\t\tif (secondaryScroller !== undefined && secondaryScrollerCachedScrollBehaviorStyleAttributeValue !== undefined) {\n\t\t\tappendScrollBehaviorToStyleAttribute(secondaryScroller, secondaryScrollerCachedScrollBehaviorStyleAttributeValue);\n\t\t}\n\n\t\trelease();\n\t}\n\n\tfunction reset() {\n\t\tsetTimeout(() => {\n\t\t\tif (hasReleased) return;\n\t\t\teventTarget.addEventListener(\"scroll\", resetHandler);\n\t\t});\n\t}\n\n\tmap.set(scroller, {\n\t\trelease,\n\t\tcachedScrollSnapValue,\n\t\tcachedScrollBehaviorStyleAttributeValue,\n\t\tsecondaryScroller,\n\t\tsecondaryScrollerCachedScrollSnapValue,\n\t\tsecondaryScrollerCachedScrollBehaviorStyleAttributeValue\n\t});\n\n\treturn {\n\t\treset\n\t};\n}\n","import {ISmoothScrollOptions} from \"../smooth-scroll-options/i-smooth-scroll-options\";\nimport {ease} from \"../../util/easing\";\nimport {disableScrollSnap, DisableScrollSnapResult} from \"../../util/disable-scroll-snap\";\n\n/**\n * The duration of a smooth scroll\n * @type {number}\n */\nconst SCROLL_TIME = 15000;\n\n/**\n * Performs a smooth repositioning of the scroll\n * @param {ISmoothScrollOptions} options\n */\nexport function smoothScroll(options: ISmoothScrollOptions): void {\n\tconst {startTime, startX, startY, endX, endY, method, scroller} = options;\n\n\tlet timeLapsed = 0;\n\tlet start: number | undefined;\n\n\tconst distanceX = endX - startX;\n\tconst distanceY = endY - startY;\n\tconst speed = Math.max(Math.abs((distanceX / 1000) * SCROLL_TIME), Math.abs((distanceY / 1000) * SCROLL_TIME));\n\n\t// Temporarily disables any scroll snapping that may be active since it fights for control over the scroller with this polyfill\n\tlet scrollSnapFix: DisableScrollSnapResult | undefined = disableScrollSnap(scroller);\n\n\trequestAnimationFrame(function animate(timestamp: number) {\n\t\tif (start == null) {\n\t\t\tstart = timestamp;\n\t\t}\n\t\ttimeLapsed += timestamp - startTime;\n\t\tconst percentage = Math.max(0, Math.min(1, speed === 0 ? 0 : timeLapsed / speed));\n\t\tconst positionX = Math.floor(startX + distanceX * ease(percentage));\n\t\tconst positionY = Math.floor(startY + distanceY * ease(percentage));\n\n\t\tmethod(positionX, positionY);\n\n\t\tif (positionX !== endX || positionY !== endY) {\n\t\t\trequestAnimationFrame(animate);\n\t\t\tstart = timestamp;\n\t\t} else {\n\t\t\tif (scrollSnapFix != null) {\n\t\t\t\tscrollSnapFix.reset();\n\t\t\t\tscrollSnapFix = undefined;\n\t\t\t}\n\t\t}\n\t});\n}\n","/**\n * Returns a High Resolution timestamp if possible, otherwise fallbacks to Date.now()\n * @returns {number}\n */\nexport function now(): number {\n\tif (\"performance\" in window) return performance.now();\n\treturn Date.now();\n}\n","import {UNSUPPORTED_ENVIRONMENT} from \"../../support/unsupported-environment\";\n\nexport const ELEMENT_ORIGINAL_SCROLL = UNSUPPORTED_ENVIRONMENT ? undefined : Element.prototype.scroll;\n","import {UNSUPPORTED_ENVIRONMENT} from \"../../support/unsupported-environment\";\n\nexport const WINDOW_ORIGINAL_SCROLL = UNSUPPORTED_ENVIRONMENT ? undefined : window.scroll;\n","import {UNSUPPORTED_ENVIRONMENT} from \"../../support/unsupported-environment\";\n\nexport const ELEMENT_ORIGINAL_SCROLL_BY = UNSUPPORTED_ENVIRONMENT ? undefined : Element.prototype.scrollBy;\n","import {UNSUPPORTED_ENVIRONMENT} from \"../../support/unsupported-environment\";\n\nexport const WINDOW_ORIGINAL_SCROLL_BY = UNSUPPORTED_ENVIRONMENT ? undefined : window.scrollBy;\n","import {UNSUPPORTED_ENVIRONMENT} from \"../../support/unsupported-environment\";\n\nexport const ELEMENT_ORIGINAL_SCROLL_TO = UNSUPPORTED_ENVIRONMENT ? undefined : Element.prototype.scrollTo;\n","import {UNSUPPORTED_ENVIRONMENT} from \"../../support/unsupported-environment\";\n\nexport const WINDOW_ORIGINAL_SCROLL_TO = UNSUPPORTED_ENVIRONMENT ? undefined : window.scrollTo;\n","import {ScrollMethodName} from \"./scroll-method-name\";\nimport {ELEMENT_ORIGINAL_SCROLL} from \"../original/element/scroll\";\nimport {WINDOW_ORIGINAL_SCROLL} from \"../original/window/scroll\";\nimport {ELEMENT_ORIGINAL_SCROLL_BY} from \"../original/element/scroll-by\";\nimport {WINDOW_ORIGINAL_SCROLL_BY} from \"../original/window/scroll-by\";\nimport {ELEMENT_ORIGINAL_SCROLL_TO} from \"../original/element/scroll-to\";\nimport {WINDOW_ORIGINAL_SCROLL_TO} from \"../original/window/scroll-to\";\nimport {IAdjustableElement} from \"../adjustable-element/i-adjustable-element\";\n\n/**\n * A fallback if Element.prototype.scroll is not defined\n * @param {number} x\n * @param {number} y\n */\nfunction elementPrototypeScrollFallback(this: IAdjustableElement, x: number, y: number): void {\n\tthis.__adjustingScrollPosition = true;\n\tthis.scrollLeft = x;\n\tthis.scrollTop = y;\n\tdelete this.__adjustingScrollPosition;\n}\n\n/**\n * A fallback if Element.prototype.scrollTo is not defined\n * @param {number} x\n * @param {number} y\n */\nfunction elementPrototypeScrollToFallback(this: IAdjustableElement, x: number, y: number): void {\n\treturn elementPrototypeScrollFallback.call(this, x, y);\n}\n\n/**\n * A fallback if Element.prototype.scrollBy is not defined\n * @param {number} x\n * @param {number} y\n */\nfunction elementPrototypeScrollByFallback(this: IAdjustableElement, x: number, y: number): void {\n\tthis.__adjustingScrollPosition = true;\n\tthis.scrollLeft += x;\n\tthis.scrollTop += y;\n\tdelete this.__adjustingScrollPosition;\n}\n\n/**\n * Gets the original non-patched prototype method for the given kind\n * @param {ScrollMethodName} kind\n * @param {Element|Window} element\n * @return {Function}\n */\nexport function getOriginalScrollMethodForKind(kind: ScrollMethodName, element: Element | Window): Function {\n\tswitch (kind) {\n\t\tcase \"scroll\":\n\t\t\tif (element instanceof Element) {\n\t\t\t\tif (ELEMENT_ORIGINAL_SCROLL != null) {\n\t\t\t\t\treturn ELEMENT_ORIGINAL_SCROLL;\n\t\t\t\t} else {\n\t\t\t\t\treturn elementPrototypeScrollFallback;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn WINDOW_ORIGINAL_SCROLL!;\n\t\t\t}\n\n\t\tcase \"scrollBy\":\n\t\t\tif (element instanceof Element) {\n\t\t\t\tif (ELEMENT_ORIGINAL_SCROLL_BY != null) {\n\t\t\t\t\treturn ELEMENT_ORIGINAL_SCROLL_BY;\n\t\t\t\t} else {\n\t\t\t\t\treturn elementPrototypeScrollByFallback;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn WINDOW_ORIGINAL_SCROLL_BY!;\n\t\t\t}\n\n\t\tcase \"scrollTo\":\n\t\t\tif (element instanceof Element) {\n\t\t\t\tif (ELEMENT_ORIGINAL_SCROLL_TO != null) {\n\t\t\t\t\treturn ELEMENT_ORIGINAL_SCROLL_TO;\n\t\t\t\t} else {\n\t\t\t\t\treturn elementPrototypeScrollToFallback;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn WINDOW_ORIGINAL_SCROLL_TO!;\n\t\t\t}\n\t}\n}\n","import {ISmoothScrollOptions} from \"../smooth-scroll-options/i-smooth-scroll-options\";\nimport {now} from \"../../util/now\";\nimport {ScrollMethodName} from \"../../scroll-method/scroll-method-name\";\nimport {getOriginalScrollMethodForKind} from \"../../scroll-method/get-original-scroll-method-for-kind\";\nimport {getScrollingElement} from \"../../util/scrolling-element\";\nimport {ScrollSnappable} from \"../../util/scroll-snappable\";\n\n/**\n * Gets the Smooth Scroll Options to use for the step function\n * @param {Element|Window} element\n * @param {number} x\n * @param {number} y\n * @param {ScrollMethodName} kind\n * @returns {ISmoothScrollOptions}\n */\nexport function getSmoothScrollOptions(element: Element | Window, x: number, y: number, kind: ScrollMethodName): ISmoothScrollOptions {\n\tconst startTime = now();\n\n\tif (!(element instanceof Element)) {\n\t\t// Use window as the scroll container\n\t\tconst {scrollX, pageXOffset, scrollY, pageYOffset} = window;\n\t\tconst startX = scrollX == null || scrollX === 0 ? pageXOffset : scrollX;\n\t\tconst startY = scrollY == null || scrollY === 0 ? pageYOffset : scrollY;\n\t\treturn {\n\t\t\tstartTime,\n\t\t\tstartX,\n\t\t\tstartY,\n\t\t\tendX: Math.floor(kind === \"scrollBy\" ? startX + x : x),\n\t\t\tendY: Math.floor(kind === \"scrollBy\" ? startY + y : y),\n\t\t\tmethod: getOriginalScrollMethodForKind(\"scrollTo\", window).bind(window),\n\t\t\tscroller: getScrollingElement() as ScrollSnappable\n\t\t};\n\t} else {\n\t\tconst {scrollLeft, scrollTop} = element;\n\t\tconst startX = scrollLeft;\n\t\tconst startY = scrollTop;\n\t\treturn {\n\t\t\tstartTime,\n\t\t\tstartX,\n\t\t\tstartY,\n\t\t\tendX: Math.floor(kind === \"scrollBy\" ? startX + x : x),\n\t\t\tendY: Math.floor(kind === \"scrollBy\" ? startY + y : y),\n\t\t\tmethod: getOriginalScrollMethodForKind(\"scrollTo\", element).bind(element),\n\t\t\tscroller: element as ScrollSnappable\n\t\t};\n\t}\n}\n","/**\n * Ensures that the given value is numeric\n * @param {number} value\n * @return {number}\n */\nexport function ensureNumeric(value: unknown): number {\n\tif (value == null) return 0;\n\telse if (typeof value === \"number\") {\n\t\treturn value;\n\t} else if (typeof value === \"string\") {\n\t\treturn parseFloat(value);\n\t} else {\n\t\treturn 0;\n\t}\n}\n","/**\n * Returns true if the given value is some ScrollToOptions\n * @param {number | ScrollToOptions} value\n * @return {value is ScrollToOptions}\n */\nexport function isScrollToOptions(value: number | ScrollToOptions | undefined): value is ScrollToOptions {\n\treturn value != null && typeof value === \"object\";\n}\n","import {getScrollBehavior} from \"../util/get-scroll-behavior\";\nimport {smoothScroll} from \"../smooth-scroll/smooth-scroll/smooth-scroll\";\nimport {getSmoothScrollOptions} from \"../smooth-scroll/get-smooth-scroll-options/get-smooth-scroll-options\";\nimport {ensureNumeric} from \"../util/ensure-numeric\";\nimport {isScrollToOptions} from \"../util/is-scroll-to-options\";\nimport {ScrollMethodName} from \"../scroll-method/scroll-method-name\";\nimport {getOriginalScrollMethodForKind} from \"../scroll-method/get-original-scroll-method-for-kind\";\n\n/**\n * Handles a scroll method\n * @param {Element|Window} element\n * @param {ScrollMethodName} kind\n * @param {number | ScrollToOptions} optionsOrX\n * @param {number} y\n */\nexport function handleScrollMethod(element: Element | Window, kind: ScrollMethodName, optionsOrX?: number | ScrollToOptions, y?: number): void {\n\tonScrollWithOptions(getScrollToOptionsWithValidation(optionsOrX, y), element, kind);\n}\n\n/**\n * Invoked when a 'ScrollToOptions' dict is provided to 'scroll()' as the first argument\n * @param {ScrollToOptions} options\n * @param {Element|Window} element\n * @param {ScrollMethodName} kind\n */\nfunction onScrollWithOptions(options: Required<ScrollToOptions>, element: Element | Window, kind: ScrollMethodName): void {\n\tconst behavior = getScrollBehavior(element, options);\n\n\t// If the behavior is 'auto' apply instantaneous scrolling\n\tif (behavior == null || behavior === \"auto\") {\n\t\tgetOriginalScrollMethodForKind(kind, element).call(element, options.left, options.top);\n\t} else {\n\t\tsmoothScroll(getSmoothScrollOptions(element, options.left, options.top, kind));\n\t}\n}\n\n/**\n * Normalizes the given scroll coordinates\n * @param {number?} x\n * @param {number?} y\n * @return {Required<Pick<ScrollToOptions, \"top\" | \"left\">>}\n */\nfunction normalizeScrollCoordinates(x: number | undefined, y: number | undefined): Required<Pick<ScrollToOptions, \"top\" | \"left\">> {\n\treturn {\n\t\tleft: ensureNumeric(x),\n\t\ttop: ensureNumeric(y)\n\t};\n}\n\n/**\n * Gets ScrollToOptions based on the given arguments. Will throw if validation fails\n * @param {number | ScrollToOptions} optionsOrX\n * @param {number} y\n * @return {Required<ScrollToOptions>}\n */\nfunction getScrollToOptionsWithValidation(optionsOrX?: number | ScrollToOptions, y?: number): Required<ScrollToOptions> {\n\t// If only one argument is given, and it isn't an options object, throw a TypeError\n\tif (y === undefined && !isScrollToOptions(optionsOrX)) {\n\t\tthrow new TypeError(\"Failed to execute 'scroll' on 'Element': parameter 1 ('options') is not an object.\");\n\t}\n\n\t// Scroll based on the primitive values given as arguments\n\tif (!isScrollToOptions(optionsOrX)) {\n\t\treturn {\n\t\t\t...normalizeScrollCoordinates(optionsOrX, y),\n\t\t\tbehavior: \"auto\"\n\t\t};\n\t}\n\n\t// Scroll based on the received options object\n\telse {\n\t\treturn {\n\t\t\t...normalizeScrollCoordinates(optionsOrX.left, optionsOrX.top),\n\t\t\tbehavior: optionsOrX.behavior == null ? \"auto\" : optionsOrX.behavior\n\t\t};\n\t}\n}\n","import {handleScrollMethod} from \"../shared\";\n\n/**\n * Patches the 'scroll' method on the Element prototype\n */\nexport function patchElementScroll(): void {\n\tElement.prototype.scroll = function(this: Element, optionsOrX?: number | ScrollToOptions, y?: number): void {\n\t\thandleScrollMethod(this, \"scroll\", optionsOrX, y);\n\t};\n}\n","import {handleScrollMethod} from \"../shared\";\n\n/**\n * Patches the 'scrollBy' method on the Element prototype\n */\nexport function patchElementScrollBy(): void {\n\tElement.prototype.scrollBy = function(this: Element, optionsOrX?: number | ScrollToOptions, y?: number): void {\n\t\thandleScrollMethod(this, \"scrollBy\", optionsOrX, y);\n\t};\n}\n","import {handleScrollMethod} from \"../shared\";\n\n/**\n * Patches the 'scrollTo' method on the Element prototype\n */\nexport function patchElementScrollTo(): void {\n\tElement.prototype.scrollTo = function(this: Element, optionsOrX?: number | ScrollToOptions, y?: number): void {\n\t\thandleScrollMethod(this, \"scrollTo\", optionsOrX, y);\n\t};\n}\n","import {handleScrollMethod} from \"../shared\";\n\n/**\n * Patches the 'scroll' method on the Window prototype\n */\nexport function patchWindowScroll(): void {\n\twindow.scroll = function(this: Window, optionsOrX?: number | ScrollToOptions, y?: number): void {\n\t\thandleScrollMethod(this, \"scroll\", optionsOrX, y);\n\t};\n}\n","import {handleScrollMethod} from \"../shared\";\n\n/**\n * Patches the 'scrollBy' method on the Window prototype\n */\nexport function patchWindowScrollBy(): void {\n\twindow.scrollBy = function(this: Window, optionsOrX?: number | ScrollToOptions, y?: number): void {\n\t\thandleScrollMethod(this, \"scrollBy\", optionsOrX, y);\n\t};\n}\n","import {handleScrollMethod} from \"../shared\";\n\n/**\n * Patches the 'scrollTo' method on the Window prototype\n */\nexport function patchWindowScrollTo(): void {\n\twindow.scrollTo = function(this: Window, optionsOrX?: number | ScrollToOptions, y?: number): void {\n\t\thandleScrollMethod(this, \"scrollTo\", optionsOrX, y);\n\t};\n}\n","// tslint:disable:no-any\n\n/**\n * Gets the parent of an element, taking into account DocumentFragments, ShadowRoots, as well as the root context (window)\n * @param {EventTarget} currentElement\n * @returns {EventTarget | null}\n */\nexport function getParent(currentElement: EventTarget): Element | Window | Node | null {\n\tif (\"nodeType\" in currentElement && (<Node>currentElement).nodeType === 1) {\n\t\treturn (<Node>currentElement).parentNode;\n\t}\n\n\tif (\"ShadowRoot\" in window && currentElement instanceof (<any>window).ShadowRoot) {\n\t\treturn (<ShadowRoot>currentElement).host;\n\t} else if (currentElement === document) {\n\t\treturn window;\n\t} else if (currentElement instanceof Node) return currentElement.parentNode;\n\n\treturn null;\n}\n","import {getParent} from \"./get-parent\";\nimport {getScrollBehavior} from \"./get-scroll-behavior\";\nimport {getScrollingElement} from \"./scrolling-element\";\n\n/**\n * Returns true if the given overflow property represents a scrollable overflow value\n * @param {string | null} overflow\n * @return {boolean}\n */\nfunction canOverflow(overflow: string | null): boolean {\n\treturn overflow !== \"visible\" && overflow !== \"clip\";\n}\n\n/**\n * Returns true if the given element is scrollable\n * @param {Element} element\n * @return {boolean}\n */\nfunction isScrollable(element: Element) {\n\tif (element.clientHeight < element.scrollHeight || element.clientWidth < element.scrollWidth) {\n\t\tconst style = getComputedStyle(element, null);\n\t\treturn canOverflow(style.overflowY) || canOverflow(style.overflowX);\n\t}\n\n\treturn false;\n}\n\n/**\n * Finds the nearest ancestor of an element that can scroll\n * @param {Element} target\n * @returns {Element|Window?}\n */\nexport function findNearestAncestorsWithScrollBehavior(target: Element | HTMLElement): [Element | HTMLElement, ScrollBehavior] {\n\tlet currentElement: Element | HTMLElement = target;\n\tconst scrollingElement = getScrollingElement();\n\n\twhile (currentElement != null) {\n\t\tconst behavior = getScrollBehavior(currentElement);\n\t\tif (behavior != null && (currentElement === scrollingElement || isScrollable(currentElement))) {\n\t\t\treturn [currentElement, behavior];\n\t\t}\n\n\t\tconst parent = getParent(currentElement);\n\t\tcurrentElement = parent as Element;\n\t}\n\n\t// No such element could be found. Start over, but this time find the nearest ancestor that can simply scroll\n\tcurrentElement = target;\n\n\twhile (currentElement != null) {\n\t\tif (currentElement === scrollingElement || isScrollable(currentElement)) {\n\t\t\treturn [currentElement, \"auto\"];\n\t\t}\n\n\t\tconst parent = getParent(currentElement);\n\t\tcurrentElement = parent as Element;\n\t}\n\n\t// Default to the scrolling element\n\treturn [scrollingElement, \"auto\"];\n}\n","import {getParent} from \"./get-parent\";\n\n// tslint:disable:no-any\n\n/**\n * Finds the nearest root from an element\n * @param {Element} target\n * @returns {Document|ShadowRoot}\n */\nexport function findNearestRoot(target: Element): Document | ShadowRoot {\n\tlet currentElement: EventTarget | null = target;\n\twhile (currentElement != null) {\n\t\tif (\"ShadowRoot\" in window && currentElement instanceof (window as any).ShadowRoot) {\n\t\t\t// Assume this is a ShadowRoot\n\t\t\treturn currentElement as ShadowRoot;\n\t\t}\n\n\t\tconst parent = getParent(currentElement);\n\n\t\tif (parent === currentElement) {\n\t\t\treturn document;\n\t\t}\n\n\t\tcurrentElement = parent;\n\t}\n\treturn document;\n}\n","/**\n * Gets the origin of the given Location or HTMLAnchorElement if available in the runtime, and otherwise shims it. (it's a one-liner)\n * @returns {string}\n */\nexport function getLocationOrigin(locationLike: Location | HTMLAnchorElement = location): string {\n\tif (\"origin\" in locationLike && locationLike.origin != null) {\n\t\treturn locationLike.origin;\n\t}\n\n\tlet port = locationLike.port != null && locationLike.port.length > 0 ? `:${locationLike.port}` : \"\";\n\n\tif (locationLike.protocol === \"http:\" && port === \":80\") {\n\t\tport = \"\";\n\t} else if (locationLike.protocol === \"https:\" && port === \":443\") {\n\t\tport = \"\";\n\t}\n\n\treturn `${locationLike.protocol}//${locationLike.hostname}${port}`;\n}\n","import {findNearestAncestorsWithScrollBehavior} from \"../../util/find-nearest-ancestor-with-scroll-behavior\";\nimport {findNearestRoot} from \"../../util/find-nearest-root\";\nimport {getLocationOrigin} from \"../../util/get-location-origin\";\n\n/**\n * A Regular expression that matches id's of the form \"#[digit]\"\n * @type {RegExp}\n */\nconst ID_WITH_LEADING_DIGIT_REGEXP = /^#\\d/;\n\n/**\n * Catches anchor navigation to IDs within the same root and ensures that they can be smooth-scrolled\n * if the scroll behavior is smooth in the first rooter within that context\n */\nexport function catchNavigation(): void {\n\t// Listen for 'click' events globally\n\twindow.addEventListener(\"click\", e => {\n\t\t// Only work with trusted events on HTMLAnchorElements\n\t\tif (!e.isTrusted || !(e.target instanceof HTMLAnchorElement)) return;\n\n\t\tconst {pathname, search, hash} = e.target;\n\t\tconst pointsToCurrentPage =\n\t\t\tgetLocationOrigin(e.target) === getLocationOrigin(location) && pathname === location.pathname && search === location.search;\n\n\t\t// Only work with HTMLAnchorElements that navigates to a specific ID on the current page\n\t\tif (!pointsToCurrentPage || hash == null || hash.length < 1) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Find the nearest root, whether it be a ShadowRoot or the document itself\n\t\tconst root = findNearestRoot(e.target);\n\n\t\t// Attempt to match the selector from that root. querySelector' doesn't support IDs that start with a digit, so work around that limitation\n\t\tconst elementMatch = hash.match(ID_WITH_LEADING_DIGIT_REGEXP) != null ? root.getElementById(hash.slice(1)) : root.querySelector(hash);\n\n\t\t// If no selector could be found, don't proceed\n\t\tif (elementMatch == null) return;\n\n\t\t// Find the nearest ancestor that can be scrolled\n\t\tconst [, behavior] = findNearestAncestorsWithScrollBehavior(elementMatch);\n\n\t\t// If the behavior isn't smooth, don't proceed\n\t\tif (behavior !== \"smooth\") return;\n\n\t\t// Otherwise, first prevent the default action.\n\t\te.preventDefault();\n\n\t\t// Now, scroll to the element with that ID\n\t\telementMatch.scrollIntoView({\n\t\t\tbehavior\n\t\t});\n\t});\n}\n","import {UNSUPPORTED_ENVIRONMENT} from \"../../support/unsupported-environment\";\n\nexport const ELEMENT_ORIGINAL_SCROLL_INTO_VIEW = UNSUPPORTED_ENVIRONMENT ? undefined : Element.prototype.scrollIntoView;\n","/**\n * The majority of this file is based on https://github.com/stipsan/compute-scroll-into-view (MIT license),\n * but has been rewritten to accept a scroller as an argument.\n */\nimport {getScrollingElement} from \"../../util/scrolling-element\";\n\n// tslint:disable\n\ninterface IVisualViewport {\n\theight: number;\n\twidth: number;\n}\n\ndeclare var visualViewport: IVisualViewport;\n\ninterface VisualViewportable {\n\tvisualViewport?: {\n\t\theight: number;\n\t\twidth: number;\n\t};\n}\n\n/**\n * Find out which edge to align against when logical scroll position is \"nearest\"\n * Interesting fact: \"nearest\" works similarly to \"if-needed\", if the element is fully visible it will not scroll it\n *\n * Legends:\n * ┌────────┐ ┏ ━ ━ ━ ┓\n * │ target │   frame\n * └────────┘ ┗ ━ ━ ━ ┛\n */\nfunction alignNearest(\n\tscrollingEdgeStart: number,\n\tscrollingEdgeEnd: number,\n\tscrollingSize: number,\n\tscrollingBorderStart: number,\n\tscrollingBorderEnd: number,\n\telementEdgeStart: number,\n\telementEdgeEnd: number,\n\telementSize: number\n) {\n\t/**\n\t * If element edge A and element edge B are both outside scrolling box edge A and scrolling box edge B\n\t *\n\t *          ┌──┐\n\t *        ┏━│━━│━┓\n\t *          │  │\n\t *        ┃ │  │ ┃        do nothing\n\t *          │  │\n\t *        ┗━│━━│━┛\n\t *          └──┘\n\t *\n\t *  If element edge C and element edge D are both outside scrolling box edge C and scrolling box edge D\n\t *\n\t *    ┏ ━ ━ ━ ━ ┓\n\t *   ┌───────────┐\n\t *   │┃         ┃│        do nothing\n\t *   └───────────┘\n\t *    ┗ ━ ━ ━ ━ ┛\n\t */\n\tif (\n\t\t(elementEdgeStart < scrollingEdgeStart && elementEdgeEnd > scrollingEdgeEnd) ||\n\t\t(elementEdgeStart > scrollingEdgeStart && elementEdgeEnd < scrollingEdgeEnd)\n\t) {\n\t\treturn 0;\n\t}\n\n\t/**\n\t * If element edge A is outside scrolling box edge A and element height is less than scrolling box height\n\t *\n\t *          ┌──┐\n\t *        ┏━│━━│━┓         ┏━┌━━┐━┓\n\t *          └──┘             │  │\n\t *  from  ┃      ┃     to  ┃ └──┘ ┃\n\t *\n\t *        ┗━ ━━ ━┛         ┗━ ━━ ━┛\n\t *\n\t * If element edge B is outside scrolling box edge B and element height is greater than scrolling box height\n\t *\n\t *        ┏━ ━━ ━┓         ┏━┌━━┐━┓\n\t *                           │  │\n\t *  from  ┃ ┌──┐ ┃     to  ┃ │  │ ┃\n\t *          │  │             │  │\n\t *        ┗━│━━│━┛         ┗━│━━│━┛\n\t *          │  │             └──┘\n\t *          │  │\n\t *          └──┘\n\t *\n\t * If element edge C is outside scrolling box edge C and element width is less than scrolling box width\n\t *\n\t *       from                 to\n\t *    ┏ ━ ━ ━ ━ ┓         ┏ ━ ━ ━ ━ ┓\n\t *  ┌───┐                 ┌───┐\n\t *  │ ┃ │       ┃         ┃   │     ┃\n\t *  └───┘                 └───┘\n\t *    ┗ ━ ━ ━ ━ ┛         ┗ ━ ━ ━ ━ ┛\n\t *\n\t * If element edge D is outside scrolling box edge D and element width is greater than scrolling box width\n\t *\n\t *       from                 to\n\t *    ┏ ━ ━ ━ ━ ┓         ┏ ━ ━ ━ ━ ┓\n\t *        ┌───────────┐   ┌───────────┐\n\t *    ┃   │     ┃     │   ┃         ┃ │\n\t *        └───────────┘   └───────────┘\n\t *    ┗ ━ ━ ━ ━ ┛         ┗ ━ ━ ━ ━ ┛\n\t */\n\tif (\n\t\t(elementEdgeStart <= scrollingEdgeStart && elementSize <= scrollingSize) ||\n\t\t(elementEdgeEnd >= scrollingEdgeEnd && elementSize >= scrollingSize)\n\t) {\n\t\treturn elementEdgeStart - scrollingEdgeStart - scrollingBorderStart;\n\t}\n\n\t/**\n\t * If element edge B is outside scrolling box edge B and element height is less than scrolling box height\n\t *\n\t *        ┏━ ━━ ━┓         ┏━ ━━ ━┓\n\t *\n\t *  from  ┃      ┃     to  ┃ ┌──┐ ┃\n\t *          ┌──┐             │  │\n\t *        ┗━│━━│━┛         ┗━└━━┘━┛\n\t *          └──┘\n\t *\n\t * If element edge A is outside scrolling box edge A and element height is greater than scrolling box height\n\t *\n\t *          ┌──┐\n\t *          │  │\n\t *          │  │             ┌──┐\n\t *        ┏━│━━│━┓         ┏━│━━│━┓\n\t *          │  │             │  │\n\t *  from  ┃ └──┘ ┃     to  ┃ │  │ ┃\n\t *                           │  │\n\t *        ┗━ ━━ ━┛         ┗━└━━┘━┛\n\t *\n\t * If element edge C is outside scrolling box edge C and element width is greater than scrolling box width\n\t *\n\t *           from                 to\n\t *        ┏ ━ ━ ━ ━ ┓         ┏ ━ ━ ━ ━ ┓\n\t *  ┌───────────┐           ┌───────────┐\n\t *  │     ┃     │   ┃       │ ┃         ┃\n\t *  └───────────┘           └───────────┘\n\t *        ┗ ━ ━ ━ ━ ┛         ┗ ━ ━ ━ ━ ┛\n\t *\n\t * If element edge D is outside scrolling box edge D and element width is less than scrolling box width\n\t *\n\t *           from                 to\n\t *        ┏ ━ ━ ━ ━ ┓         ┏ ━ ━ ━ ━ ┓\n\t *                ┌───┐             ┌───┐\n\t *        ┃       │ ┃ │       ┃     │   ┃\n\t *                └───┘             └───┘\n\t *        ┗ ━ ━ ━ ━ ┛         ┗ ━ ━ ━ ━ ┛\n\t *\n\t */\n\tif ((elementEdgeEnd > scrollingEdgeEnd && elementSize < scrollingSize) || (elementEdgeStart < scrollingEdgeStart && elementSize > scrollingSize)) {\n\t\treturn elementEdgeEnd - scrollingEdgeEnd + scrollingBorderEnd;\n\t}\n\n\treturn 0;\n}\n\nexport function computeScrollIntoView(target: Element, scroller: Element, options: ScrollIntoViewOptions): Pick<ScrollToOptions, \"top\" | \"left\"> {\n\tconst {block, inline} = options;\n\n\t// Used to handle the top most element that can be scrolled\n\tconst scrollingElement = getScrollingElement();\n\n\t// Support pinch-zooming properly, making sure elements scroll into the visual viewport\n\t// Browsers that don't support visualViewport will report the layout viewport dimensions on document.documentElement.clientWidth/Height\n\t// and viewport dimensions on window.innerWidth/Height\n\t// https://www.quirksmode.org/mobile/viewports2.html\n\t// https://bokand.github.io/viewport/index.html\n\tconst viewportWidth = (window as VisualViewportable).visualViewport != null ? visualViewport.width : innerWidth;\n\tconst viewportHeight = (window as VisualViewportable).visualViewport != null ? visualViewport.height : innerHeight;\n\n\tconst viewportX = window.scrollX != null ? window.scrollX : window.pageXOffset;\n\tconst viewportY = window.scrollY != null ? window.scrollY : window.pageYOffset;\n\n\tconst {\n\t\theight: targetHeight,\n\t\twidth: targetWidth,\n\t\ttop: targetTop,\n\t\tright: targetRight,\n\t\tbottom: targetBottom,\n\t\tleft: targetLeft\n\t} = target.getBoundingClientRect();\n\n\t// These values mutate as we loop through and generate scroll coordinates\n\tconst targetBlock: number = block === \"start\" || block === \"nearest\" ? targetTop : block === \"end\" ? targetBottom : targetTop + targetHeight / 2; // block === 'center\n\tconst targetInline: number = inline === \"center\" ? targetLeft + targetWidth / 2 : inline === \"end\" ? targetRight : targetLeft; // inline === 'start || inline === 'nearest\n\n\tconst {height, width, top, right, bottom, left} = scroller.getBoundingClientRect();\n\n\tconst frameStyle = getComputedStyle(scroller);\n\tconst borderLeft = parseInt(frameStyle.borderLeftWidth as string, 10);\n\tconst borderTop = parseInt(frameStyle.borderTopWidth as string, 10);\n\tconst borderRight = parseInt(frameStyle.borderRightWidth as string, 10);\n\tconst borderBottom = parseInt(frameStyle.borderBottomWidth as string, 10);\n\n\tlet blockScroll: number = 0;\n\tlet inlineScroll: number = 0;\n\n\t// The property existance checks for offset[Width|Height] is because only HTMLElement objects have them, but any Element might pass by here\n\t// @TODO find out if the \"as HTMLElement\" overrides can be dropped\n\tconst scrollbarWidth =\n\t\t\"offsetWidth\" in scroller ? (scroller as HTMLElement).offsetWidth - (scroller as HTMLElement).clientWidth - borderLeft - borderRight : 0;\n\tconst scrollbarHeight =\n\t\t\"offsetHeight\" in scroller ? (scroller as HTMLElement).offsetHeight - (scroller as HTMLElement).clientHeight - borderTop - borderBottom : 0;\n\n\tif (scrollingElement === scroller) {\n\t\t// Handle viewport logic (document.documentElement or document.body)\n\n\t\tif (block === \"start\") {\n\t\t\tblockScroll = targetBlock;\n\t\t} else if (block === \"end\") {\n\t\t\tblockScroll = targetBlock - viewportHeight;\n\t\t} else if (block === \"nearest\") {\n\t\t\tblockScroll = alignNearest(\n\t\t\t\tviewportY,\n\t\t\t\tviewportY + viewportHeight,\n\t\t\t\tviewportHeight,\n\t\t\t\tborderTop,\n\t\t\t\tborderBottom,\n\t\t\t\tviewportY + targetBlock,\n\t\t\t\tviewportY + targetBlock + targetHeight,\n\t\t\t\ttargetHeight\n\t\t\t);\n\t\t} else {\n\t\t\t// block === 'center' is the default\n\t\t\tblockScroll = targetBlock - viewportHeight / 2;\n\t\t}\n\n\t\tif (inline === \"start\") {\n\t\t\tinlineScroll = targetInline;\n\t\t} else if (inline === \"center\") {\n\t\t\tinlineScroll = targetInline - viewportWidth / 2;\n\t\t} else if (inline === \"end\") {\n\t\t\tinlineScroll = targetInline - viewportWidth;\n\t\t} else {\n\t\t\t// inline === 'nearest' is the default\n\t\t\tinlineScroll = alignNearest(\n\t\t\t\tviewportX,\n\t\t\t\tviewportX + viewportWidth,\n\t\t\t\tviewportWidth,\n\t\t\t\tborderLeft,\n\t\t\t\tborderRight,\n\t\t\t\tviewportX + targetInline,\n\t\t\t\tviewportX + targetInline + targetWidth,\n\t\t\t\ttargetWidth\n\t\t\t);\n\t\t}\n\n\t\t// Apply scroll position offsets and ensure they are within bounds\n\t\t// @TODO add more test cases to cover this 100%\n\t\tblockScroll = Math.max(0, blockScroll + viewportY);\n\t\tinlineScroll = Math.max(0, inlineScroll + viewportX);\n\t} else {\n\t\t// Handle each scrolling frame that might exist between the target and the viewport\n\n\t\tif (block === \"start\") {\n\t\t\tblockScroll = targetBlock - top - borderTop;\n\t\t} else if (block === \"end\") {\n\t\t\tblockScroll = targetBlock - bottom + borderBottom + scrollbarHeight;\n\t\t} else if (block === \"nearest\") {\n\t\t\tblockScroll = alignNearest(\n\t\t\t\ttop,\n\t\t\t\tbottom,\n\t\t\t\theight,\n\t\t\t\tborderTop,\n\t\t\t\tborderBottom + scrollbarHeight,\n\t\t\t\ttargetBlock,\n\t\t\t\ttargetBlock + targetHeight,\n\t\t\t\ttargetHeight\n\t\t\t);\n\t\t} else {\n\t\t\t// block === 'center' is the default\n\t\t\tblockScroll = targetBlock - (top + height / 2) + scrollbarHeight / 2;\n\t\t}\n\n\t\tif (inline === \"start\") {\n\t\t\tinlineScroll = targetInline - left - borderLeft;\n\t\t} else if (inline === \"center\") {\n\t\t\tinlineScroll = targetInline - (left + width / 2) + scrollbarWidth / 2;\n\t\t} else if (inline === \"end\") {\n\t\t\tinlineScroll = targetInline - right + borderRight + scrollbarWidth;\n\t\t} else {\n\t\t\t// inline === 'nearest' is the default\n\t\t\tinlineScroll = alignNearest(\n\t\t\t\tleft,\n\t\t\t\tright,\n\t\t\t\twidth,\n\t\t\t\tborderLeft,\n\t\t\t\tborderRight + scrollbarWidth,\n\t\t\t\ttargetInline,\n\t\t\t\ttargetInline + targetWidth,\n\t\t\t\ttargetWidth\n\t\t\t);\n\t\t}\n\n\t\tconst {scrollLeft, scrollTop} = scroller;\n\t\t// Ensure scroll coordinates are not out of bounds while applying scroll offsets\n\t\tblockScroll = Math.max(0, Math.min(scrollTop + blockScroll, scroller.scrollHeight - height + scrollbarHeight));\n\t\tinlineScroll = Math.max(0, Math.min(scrollLeft + inlineScroll, scroller.scrollWidth - width + scrollbarWidth));\n\t}\n\n\treturn {\n\t\ttop: blockScroll,\n\t\tleft: inlineScroll\n\t};\n}\n","import {findNearestAncestorsWithScrollBehavior} from \"../../util/find-nearest-ancestor-with-scroll-behavior\";\nimport {ELEMENT_ORIGINAL_SCROLL_INTO_VIEW} from \"../../original/element/scroll-into-view\";\nimport {computeScrollIntoView} from \"./compute-scroll-into-view\";\nimport {getOriginalScrollMethodForKind} from \"../../scroll-method/get-original-scroll-method-for-kind\";\n\n/**\n * Patches the 'scrollIntoView' method on the Element prototype\n */\nexport function patchElementScrollIntoView(): void {\n\tElement.prototype.scrollIntoView = function(this: Element, arg?: boolean | ScrollIntoViewOptions): void {\n\t\tconst normalizedOptions: ScrollIntoViewOptions =\n\t\t\targ == null || arg === true\n\t\t\t\t? {\n\t\t\t\t\t\tblock: \"start\",\n\t\t\t\t\t\tinline: \"nearest\"\n\t\t\t\t  }\n\t\t\t\t: arg === false\n\t\t\t\t? {\n\t\t\t\t\t\tblock: \"end\",\n\t\t\t\t\t\tinline: \"nearest\"\n\t\t\t\t  }\n\t\t\t\t: arg;\n\n\t\t// Find the nearest ancestor that can be scrolled\n\t\tconst [ancestorWithScroll, ancestorWithScrollBehavior] = findNearestAncestorsWithScrollBehavior(this);\n\n\t\tconst behavior = normalizedOptions.behavior != null ? normalizedOptions.behavior : ancestorWithScrollBehavior;\n\n\t\t// If the behavior isn't smooth, simply invoke the original implementation and do no more\n\t\tif (behavior !== \"smooth\") {\n\t\t\t// Assert that 'scrollIntoView' is actually defined\n\t\t\tif (ELEMENT_ORIGINAL_SCROLL_INTO_VIEW != null) {\n\t\t\t\tELEMENT_ORIGINAL_SCROLL_INTO_VIEW.call(this, normalizedOptions);\n\t\t\t}\n\n\t\t\t// Otherwise, invoke 'scrollTo' instead and provide the scroll coordinates\n\t\t\telse {\n\t\t\t\tconst {top, left} = computeScrollIntoView(this, ancestorWithScroll, normalizedOptions);\n\t\t\t\tgetOriginalScrollMethodForKind(\"scrollTo\", this).call(this, left, top);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tancestorWithScroll.scrollTo({\n\t\t\tbehavior,\n\t\t\t...computeScrollIntoView(this, ancestorWithScroll, normalizedOptions)\n\t\t});\n\t};\n\n\t// On IE11, HTMLElement has its own declaration of scrollIntoView and does not inherit this from the prototype chain, so we'll need to patch that one too.\n\tif (HTMLElement.prototype.scrollIntoView != null && HTMLElement.prototype.scrollIntoView !== Element.prototype.scrollIntoView) {\n\t\tHTMLElement.prototype.scrollIntoView = Element.prototype.scrollIntoView;\n\t}\n}\n","import {UNSUPPORTED_ENVIRONMENT} from \"../../support/unsupported-environment\";\n\nexport const ELEMENT_ORIGINAL_SCROLL_TOP_SET_DESCRIPTOR = UNSUPPORTED_ENVIRONMENT\n\t? undefined\n\t: Object.getOwnPropertyDescriptor(Element.prototype, \"scrollTop\")!.set!;\n","import {handleScrollMethod} from \"../shared\";\nimport {ELEMENT_ORIGINAL_SCROLL_TOP_SET_DESCRIPTOR} from \"../../original/element/scroll-top\";\n\n/**\n * Patches the 'scrollTop' property descriptor on the Element prototype\n */\nexport function patchElementScrollTop(): void {\n\tObject.defineProperty(Element.prototype, \"scrollTop\", {\n\t\tset(scrollTop: number) {\n\t\t\tif (this.__adjustingScrollPosition) {\n\t\t\t\treturn ELEMENT_ORIGINAL_SCROLL_TOP_SET_DESCRIPTOR!.call(this, scrollTop);\n\t\t\t}\n\n\t\t\thandleScrollMethod(this, \"scrollTo\", this.scrollLeft, scrollTop);\n\t\t\treturn scrollTop;\n\t\t}\n\t});\n}\n","import {UNSUPPORTED_ENVIRONMENT} from \"../../support/unsupported-environment\";\n\nexport const ELEMENT_ORIGINAL_SCROLL_LEFT_SET_DESCRIPTOR = UNSUPPORTED_ENVIRONMENT\n\t? undefined\n\t: Object.getOwnPropertyDescriptor(Element.prototype, \"scrollLeft\")!.set!;\n","import {handleScrollMethod} from \"../shared\";\nimport {ELEMENT_ORIGINAL_SCROLL_LEFT_SET_DESCRIPTOR} from \"../../original/element/scroll-left\";\n\n/**\n * Patches the 'scrollLeft' property descriptor on the Element prototype\n */\nexport function patchElementScrollLeft(): void {\n\tObject.defineProperty(Element.prototype, \"scrollLeft\", {\n\t\tset(scrollLeft: number) {\n\t\t\tif (this.__adjustingScrollPosition) {\n\t\t\t\treturn ELEMENT_ORIGINAL_SCROLL_LEFT_SET_DESCRIPTOR!.call(this, scrollLeft);\n\t\t\t}\n\n\t\t\thandleScrollMethod(this, \"scrollTo\", scrollLeft, this.scrollTop);\n\t\t\treturn scrollLeft;\n\t\t}\n\t});\n}\n","import {patchElementScroll} from \"./element/scroll\";\nimport {patchElementScrollBy} from \"./element/scroll-by\";\nimport {patchElementScrollTo} from \"./element/scroll-to\";\nimport {patchWindowScroll} from \"./window/scroll\";\nimport {patchWindowScrollBy} from \"./window/scroll-by\";\nimport {patchWindowScrollTo} from \"./window/scroll-to\";\nimport {catchNavigation} from \"./anchor/catch-navigation\";\nimport {patchElementScrollIntoView} from \"./element/scroll-into-view\";\nimport {patchElementScrollTop} from \"./element/scroll-top\";\nimport {patchElementScrollLeft} from \"./element/scroll-left\";\n\n/**\n * Applies the polyfill\n */\nexport function patch(): void {\n\t// Element.prototype methods\n\tpatchElementScroll();\n\tpatchElementScrollBy();\n\tpatchElementScrollTo();\n\tpatchElementScrollIntoView();\n\n\t// Element.prototype descriptors\n\tpatchElementScrollLeft();\n\tpatchElementScrollTop();\n\n\t// window methods\n\tpatchWindowScroll();\n\tpatchWindowScrollBy();\n\tpatchWindowScrollTo();\n\n\t// Navigation\n\tcatchNavigation();\n}\n","import {UNSUPPORTED_ENVIRONMENT} from \"./unsupported-environment\";\n\n/**\n * Is true if the browser natively supports the Element.prototype.[scroll|scrollTo|scrollBy|scrollIntoView] methods\n * @type {boolean}\n */\nexport const SUPPORTS_ELEMENT_PROTOTYPE_SCROLL_METHODS = UNSUPPORTED_ENVIRONMENT\n\t? false\n\t: \"scroll\" in Element.prototype && \"scrollTo\" in Element.prototype && \"scrollBy\" in Element.prototype && \"scrollIntoView\" in Element.prototype;\n","import {SUPPORTS_SCROLL_BEHAVIOR} from \"./support/supports-scroll-behavior\";\nimport {patch} from \"./patch/patch\";\nimport {SUPPORTS_ELEMENT_PROTOTYPE_SCROLL_METHODS} from \"./support/supports-element-prototype-scroll-methods\";\nimport {UNSUPPORTED_ENVIRONMENT} from \"./support/unsupported-environment\";\n\nif (!UNSUPPORTED_ENVIRONMENT && (!SUPPORTS_SCROLL_BEHAVIOR || !SUPPORTS_ELEMENT_PROTOTYPE_SCROLL_METHODS)) {\n\tpatch();\n}\n"],"names":[],"mappings":";;;IAAO,IAAM,uBAAuB,GAAG,OAAO,MAAM,KAAK,WAAW;;;;;;ACMpE,IAAO,IAAM,wBAAwB,GAAG,uBAAuB,GAAG,KAAK,GAAG,gBAAgB,IAAI,QAAQ,CAAC,eAAe,CAAC,KAAK;;;;ICN5H;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;;IAEA;IACA;IACA;AACA;AAeA,IAAO,IAAI,QAAQ,GAAG,WAAW;IACjC,IAAI,QAAQ,GAAG,MAAM,CAAC,MAAM,IAAI,SAAS,QAAQ,CAAC,CAAC,EAAE;IACrD,QAAQ,KAAK,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;IAC7D,YAAY,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;IAC7B,YAAY,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IACzF,SAAS;IACT,QAAQ,OAAO,CAAC,CAAC;IACjB,MAAK;IACL,IAAI,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;IAC3C,EAAC;AACD;AAgFA,IAAO,SAAS,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE;IAC7B,IAAI,IAAI,CAAC,GAAG,OAAO,MAAM,KAAK,UAAU,IAAI,CAAC,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IAC/D,IAAI,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;IACrB,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,CAAC,CAAC;IACrC,IAAI,IAAI;IACR,QAAQ,OAAO,CAAC,CAAC,KAAK,KAAK,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;IACnF,KAAK;IACL,IAAI,OAAO,KAAK,EAAE,EAAE,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE;IAC3C,YAAY;IACZ,QAAQ,IAAI;IACZ,YAAY,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC,GAAG,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC7D,SAAS;IACT,gBAAgB,EAAE,IAAI,CAAC,EAAE,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE;IACzC,KAAK;IACL,IAAI,OAAO,EAAE,CAAC;IACd,CAAC;;aCtIe,mBAAmB;QAClC,IAAI,QAAQ,CAAC,gBAAgB,IAAI,IAAI,EAAE;YACtC,OAAO,QAAQ,CAAC,gBAA+B,CAAC;SAChD;aAAM;YACN,OAAO,QAAQ,CAAC,eAAe,CAAC;SAChC;IACF;;ICNA,IAAM,6BAA6B,GAAG,iBAAiB,CAAC;IACxD,IAAM,+BAA+B,GAAG,IAAI,MAAM,CAAI,6BAA6B,iBAAc,CAAC,CAAC;IAEnG;;;;;;AAMA,aAAgB,oCAAoC,CAAC,OAAgB,EAAE,QAAwB;QAC9F,IAAM,QAAQ,GAAM,6BAA6B,SAAI,QAAU,CAAC;QAChE,IAAI,cAAc,GAAG,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QACnD,IAAI,cAAc,IAAI,IAAI,IAAI,cAAc,KAAK,EAAE,EAAE;YACpD,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;YACxC,OAAO;SACP;;QAGD,IAAM,wBAAwB,GAAG,qCAAqC,CAAC,OAAO,CAAC,CAAC;QAChF,IAAI,wBAAwB,IAAI,IAAI,EAAE;YACrC,IAAM,mBAAmB,GAAM,6BAA6B,SAAI,wBAA0B,CAAC;;YAE3F,cAAc,GAAG,cAAc,CAAC,OAAO,CAAI,mBAAmB,MAAG,EAAE,EAAE,CAAC,CAAC;;YAEvE,cAAc,GAAG,cAAc,CAAC,OAAO,CAAC,mBAAmB,EAAE,EAAE,CAAC,CAAC;SACjE;;QAGD,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,cAAc,CAAC,QAAQ,CAAC,GAAG,CAAC,GAAG,KAAG,cAAc,GAAG,QAAU,GAAG,MAAI,cAAc,GAAG,QAAU,CAAC,CAAC;IAChI,CAAC;IAED;;;;;;AAMA,aAAgB,qCAAqC,CAAC,OAAgB;QACrE,IAAM,mBAAmB,GAAG,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;QAC1D,IAAI,mBAAmB,IAAI,IAAI,IAAI,mBAAmB,CAAC,QAAQ,CAAC,6BAA6B,CAAC,EAAE;YAC/F,IAAM,KAAK,GAAG,mBAAmB,CAAC,KAAK,CAAC,+BAA+B,CAAC,CAAC;YACzE,IAAI,KAAK,IAAI,IAAI,EAAE;gBACZ,IAAA,qBAAoB,EAAjB,gBAAiB,CAAC;gBAC3B,IAAI,QAAQ,IAAI,IAAI,IAAI,QAAQ,KAAK,EAAE,EAAE;oBACxC,OAAO,QAA0B,CAAC;iBAClC;aACD;SACD;QACD,OAAO,SAAS,CAAC;IAClB;;IC9CA,IAAM,4BAA4B,GAAG,gBAA6C,CAAC;IAGnF;;;;;;;AAOA,aAAgB,iBAAiB,CAAC,WAA2C,EAAE,OAAuB;;QAErG,IAAI,OAAO,IAAI,IAAI,IAAI,OAAO,CAAC,QAAQ,KAAK,QAAQ;YAAE,OAAO,QAAQ,CAAC;QAEtE,IAAM,MAAM,GAAgB,OAAO,IAAI,WAAW,GAAG,WAAW,GAAG,mBAAmB,EAAE,CAAC;QAEzF,IAAI,KAAiC,CAAC;QAEtC,IAAI,OAAO,IAAI,MAAM,EAAE;;YAEtB,IAAM,2BAA2B,GAAG,MAAM,CAAC,KAAK,CAAC,4BAA4B,CAA2B,CAAC;;YAEzG,IAAI,2BAA2B,IAAI,IAAI,IAAI,2BAA2B,KAAK,EAAE,EAAE;gBAC9E,KAAK,GAAG,2BAA2B,CAAC;aACpC;SACD;QAED,IAAI,KAAK,IAAI,IAAI,EAAE;YAClB,IAAM,cAAc,GAAG,MAAM,CAAC,YAAY,CAAC,iBAAiB,CAAC,CAAC;YAC9D,IAAI,cAAc,IAAI,IAAI,IAAI,cAAc,KAAK,EAAE,EAAE;gBACpD,KAAK,GAAG,cAAgC,CAAC;aACzC;SACD;QAED,IAAI,KAAK,IAAI,IAAI,EAAE;;YAElB,KAAK,GAAG,qCAAqC,CAAC,MAAM,CAAC,CAAC;SACtD;QAED,IAAI,KAAK,IAAI,IAAI,EAAE;;YAElB,IAAM,aAAa,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC;YAC/C,IAAM,kBAAkB,GAAG,aAAa,CAAC,gBAAgB,CAAC,gBAAgB,CAA2B,CAAC;YACtG,IAAI,kBAAkB,IAAI,IAAI,IAAI,kBAAkB,KAAK,EAAE,EAAE;gBAC5D,KAAK,GAAG,kBAAkB,CAAC;aAC3B;SACD;;QAGD,OAAO,KAAK,CAAC;IACd;;;;;;ICrDA,IAAM,IAAI,GAAG,GAAG,CAAC;IAEjB;;;;;AAKA,aAAgB,IAAI,CAAC,CAAS;QAC7B,OAAO,IAAI,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC;IAC3C;;KAAC,GCSK,IAAI,GAA4B;QACrC,KAAK,EAAE,eAAQ;KACf,CAAC;IAEF,IAAM,GAAG,GAAG,OAAO,OAAO,KAAK,WAAW,GAAG,SAAS,GAAG,IAAI,OAAO,EAA8C,CAAC;AAEnH,aAAgB,iBAAiB,CAAC,QAAyB;;QAE1D,IAAI,wBAAwB,IAAI,GAAG,IAAI,IAAI,EAAE;YAC5C,OAAO,IAAI,CAAC;SACZ;QAED,IAAM,gBAAgB,GAAG,mBAAmB,EAAE,CAAC;QAE/C,IAAI,qBAAoC,CAAC;QACzC,IAAI,uCAAmE,CAAC;QACxE,IAAI,iBAA8C,CAAC;QACnD,IAAI,sCAAiE,CAAC;QACtE,IAAI,wDAAoF,CAAC;QACzF,IAAM,cAAc,GAAG,GAAG,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;QACzC,IAAI,cAAc,IAAI,IAAI,EAAE;YAC3B,qBAAqB,GAAG,cAAc,CAAC,qBAAqB,CAAC;YAC7D,uCAAuC,GAAG,cAAc,CAAC,uCAAuC,CAAC;YACjG,iBAAiB,GAAG,cAAc,CAAC,iBAAiB,CAAC;YACrD,sCAAsC,GAAG,cAAc,CAAC,sCAAsC,CAAC;YAC/F,wDAAwD,GAAG,cAAc,CAAC,wDAAwD,CAAC;YACnI,cAAc,CAAC,OAAO,EAAE,CAAC;SACzB;aAAM;YACN,qBAAqB,GAAG,QAAQ,CAAC,KAAK,CAAC,cAAc,KAAK,EAAE,GAAG,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,cAAc,CAAC;YACpG,uCAAuC,GAAG,qCAAqC,CAAC,QAAQ,CAAC,CAAC;YAC1F,iBAAiB,GAAG,QAAQ,KAAK,gBAAgB,IAAI,gBAAgB,KAAK,QAAQ,CAAC,IAAI,GAAI,QAAQ,CAAC,IAAwB,GAAG,SAAS,CAAC;YACzI,sCAAsC;gBACrC,iBAAiB,IAAI,IAAI,GAAG,SAAS,GAAG,iBAAiB,CAAC,KAAK,CAAC,cAAc,KAAK,EAAE,GAAG,IAAI,GAAG,iBAAiB,CAAC,KAAK,CAAC,cAAc,CAAC;YACvI,wDAAwD;gBACvD,iBAAiB,IAAI,IAAI,GAAG,SAAS,GAAG,qCAAqC,CAAC,iBAAiB,CAAC,CAAC;YAElG,IAAM,6BAA6B,GAAG,gBAAgB,CAAC,QAAQ,CAAC,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,CAAC;YACtG,IAAM,8CAA8C,GACnD,iBAAiB,IAAI,IAAI,GAAG,SAAS,GAAG,gBAAgB,CAAC,iBAAiB,CAAC,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,CAAC;;YAGlH,IAAI,6BAA6B,KAAK,MAAM,IAAI,8CAA8C,KAAK,MAAM,EAAE;gBAC1G,OAAO,IAAI,CAAC;aACZ;SACD;QAED,QAAQ,CAAC,KAAK,CAAC,cAAc,GAAG,MAAM,CAAC;QACvC,IAAI,iBAAiB,KAAK,SAAS,EAAE;YACpC,iBAAiB,CAAC,KAAK,CAAC,cAAc,GAAG,MAAM,CAAC;SAChD;QACD,IAAI,uCAAuC,KAAK,SAAS,EAAE;YAC1D,oCAAoC,CAAC,QAAQ,EAAE,uCAAuC,CAAC,CAAC;SACxF;QAED,IAAI,iBAAiB,KAAK,SAAS,IAAI,wDAAwD,KAAK,SAAS,EAAE;YAC9G,oCAAoC,CAAC,iBAAiB,EAAE,wDAAwD,CAAC,CAAC;SAClH;QAED,IAAI,WAAW,GAAG,KAAK,CAAC;QAExB,IAAM,WAAW,GAAG,QAAQ,KAAK,gBAAgB,GAAG,MAAM,GAAG,QAAQ,CAAC;QAEtE,SAAS,OAAO;YACf,WAAW,CAAC,mBAAmB,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;YACxD,IAAI,GAAG,IAAI,IAAI,EAAE;gBAChB,GAAG,CAAC,QAAM,CAAA,CAAC,QAAQ,CAAC,CAAC;aACrB;YACD,WAAW,GAAG,IAAI,CAAC;SACnB;QAED,SAAS,YAAY;YACpB,QAAQ,CAAC,KAAK,CAAC,cAAc,GAAG,qBAAqB,CAAC;YAEtD,IAAI,iBAAiB,IAAI,IAAI,IAAI,sCAAsC,KAAK,SAAS,EAAE;gBACtF,iBAAiB,CAAC,KAAK,CAAC,cAAc,GAAG,sCAAsC,CAAC;aAChF;YAED,IAAI,uCAAuC,KAAK,SAAS,EAAE;gBAC1D,oCAAoC,CAAC,QAAQ,EAAE,uCAAuC,CAAC,CAAC;aACxF;YAED,IAAI,iBAAiB,KAAK,SAAS,IAAI,wDAAwD,KAAK,SAAS,EAAE;gBAC9G,oCAAoC,CAAC,iBAAiB,EAAE,wDAAwD,CAAC,CAAC;aAClH;YAED,OAAO,EAAE,CAAC;SACV;QAED,SAAS,KAAK;YACb,UAAU,CAAC;gBACV,IAAI,WAAW;oBAAE,OAAO;gBACxB,WAAW,CAAC,gBAAgB,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;aACrD,CAAC,CAAC;SACH;QAED,GAAG,CAAC,GAAG,CAAC,QAAQ,EAAE;YACjB,OAAO,SAAA;YACP,qBAAqB,uBAAA;YACrB,uCAAuC,yCAAA;YACvC,iBAAiB,mBAAA;YACjB,sCAAsC,wCAAA;YACtC,wDAAwD,0DAAA;SACxD,CAAC,CAAC;QAEH,OAAO;YACN,KAAK,OAAA;SACL,CAAC;IACH;;KAAC;;;;ICrHD,IAAM,WAAW,GAAG,KAAK,CAAC;IAE1B;;;;AAIA,aAAgB,YAAY,CAAC,OAA6B;QAClD,IAAA,6BAAS,EAAE,uBAAM,EAAE,uBAAM,EAAE,mBAAI,EAAE,mBAAI,EAAE,uBAAM,EAAE,2BAAQ,CAAY;QAE1E,IAAI,UAAU,GAAG,CAAC,CAAC;QAGnB,IAAM,SAAS,GAAG,IAAI,GAAG,MAAM,CAAC;QAChC,IAAM,SAAS,GAAG,IAAI,GAAG,MAAM,CAAC;QAChC,IAAM,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,GAAG,IAAI,IAAI,WAAW,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,SAAS,GAAG,IAAI,IAAI,WAAW,CAAC,CAAC,CAAC;;QAG/G,IAAI,aAAa,GAAwC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;QAErF,qBAAqB,CAAC,SAAS,OAAO,CAAC,SAAiB;YAIvD,UAAU,IAAI,SAAS,GAAG,SAAS,CAAC;YACpC,IAAM,UAAU,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAG,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC;YAClF,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACpE,IAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YAEpE,MAAM,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;YAE7B,IAAI,SAAS,KAAK,IAAI,IAAI,SAAS,KAAK,IAAI,EAAE;gBAC7C,qBAAqB,CAAC,OAAO,CAAC,CAAC;aAE/B;iBAAM;gBACN,IAAI,aAAa,IAAI,IAAI,EAAE;oBAC1B,aAAa,CAAC,KAAK,EAAE,CAAC;oBACtB,aAAa,GAAG,SAAS,CAAC;iBAC1B;aACD;SACD,CAAC,CAAC;IACJ;;IChDA;;;;AAIA,aAAgB,GAAG;QAClB,IAAI,aAAa,IAAI,MAAM;YAAE,OAAO,WAAW,CAAC,GAAG,EAAE,CAAC;QACtD,OAAO,IAAI,CAAC,GAAG,EAAE,CAAC;IACnB;;;;QCLa,uBAAuB,GAAG,uBAAuB,GAAG,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,MAAM;;QCAxF,sBAAsB,GAAG,uBAAuB,GAAG,SAAS,GAAG,MAAM,CAAC,MAAM;;QCA5E,0BAA0B,GAAG,uBAAuB,GAAG,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,QAAQ;;QCA7F,yBAAyB,GAAG,uBAAuB,GAAG,SAAS,GAAG,MAAM,CAAC,QAAQ;;QCAjF,0BAA0B,GAAG,uBAAuB,GAAG,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,QAAQ;;QCA7F,yBAAyB,GAAG,uBAAuB,GAAG,SAAS,GAAG,MAAM,CAAC,QAAQ;;;;;;;ICY9F,SAAS,8BAA8B,CAA2B,CAAS,EAAE,CAAS;QACrF,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;QACtC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACnB,OAAO,IAAI,CAAC,yBAAyB,CAAC;IACvC,CAAC;IAED;;;;;IAKA,SAAS,gCAAgC,CAA2B,CAAS,EAAE,CAAS;QACvF,OAAO,8BAA8B,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IACxD,CAAC;IAED;;;;;IAKA,SAAS,gCAAgC,CAA2B,CAAS,EAAE,CAAS;QACvF,IAAI,CAAC,yBAAyB,GAAG,IAAI,CAAC;QACtC,IAAI,CAAC,UAAU,IAAI,CAAC,CAAC;QACrB,IAAI,CAAC,SAAS,IAAI,CAAC,CAAC;QACpB,OAAO,IAAI,CAAC,yBAAyB,CAAC;IACvC,CAAC;IAED;;;;;;AAMA,aAAgB,8BAA8B,CAAC,IAAsB,EAAE,OAAyB;QAC/F,QAAQ,IAAI;YACX,KAAK,QAAQ;gBACZ,IAAI,OAAO,YAAY,OAAO,EAAE;oBAC/B,IAAI,uBAAuB,IAAI,IAAI,EAAE;wBACpC,OAAO,uBAAuB,CAAC;qBAC/B;yBAAM;wBACN,OAAO,8BAA8B,CAAC;qBACtC;iBACD;qBAAM;oBACN,OAAO,sBAAuB,CAAC;iBAC/B;YAEF,KAAK,UAAU;gBACd,IAAI,OAAO,YAAY,OAAO,EAAE;oBAC/B,IAAI,0BAA0B,IAAI,IAAI,EAAE;wBACvC,OAAO,0BAA0B,CAAC;qBAClC;yBAAM;wBACN,OAAO,gCAAgC,CAAC;qBACxC;iBACD;qBAAM;oBACN,OAAO,yBAA0B,CAAC;iBAClC;YAEF,KAAK,UAAU;gBACd,IAAI,OAAO,YAAY,OAAO,EAAE;oBAC/B,IAAI,0BAA0B,IAAI,IAAI,EAAE;wBACvC,OAAO,0BAA0B,CAAC;qBAClC;yBAAM;wBACN,OAAO,gCAAgC,CAAC;qBACxC;iBACD;qBAAM;oBACN,OAAO,yBAA0B,CAAC;iBAClC;SACF;IACF;;KAAC;;;;;;;;ACpED,aAAgB,sBAAsB,CAAC,OAAyB,EAAE,CAAS,EAAE,CAAS,EAAE,IAAsB;QAC7G,IAAM,SAAS,GAAG,GAAG,EAAE,CAAC;QAExB,IAAI,EAAE,OAAO,YAAY,OAAO,CAAC,EAAE;;YAE3B,IAAA,0BAAO,EAAE,kCAAW,EAAE,0BAAO,EAAE,kCAAW,CAAW;YAC5D,IAAM,MAAM,GAAG,SAAO,IAAI,IAAI,IAAI,SAAO,KAAK,CAAC,GAAG,aAAW,GAAG,SAAO,CAAC;YACxE,IAAM,MAAM,GAAG,SAAO,IAAI,IAAI,IAAI,SAAO,KAAK,CAAC,GAAG,aAAW,GAAG,SAAO,CAAC;YACxE,OAAO;gBACN,SAAS,WAAA;gBACT,MAAM,QAAA;gBACN,MAAM,QAAA;gBACN,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,UAAU,GAAG,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;gBACtD,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,UAAU,GAAG,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;gBACtD,MAAM,EAAE,8BAA8B,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC;gBACvE,QAAQ,EAAE,mBAAmB,EAAqB;aAClD,CAAC;SACF;aAAM;YACC,IAAA,+BAAU,EAAE,6BAAS,CAAY;YACxC,IAAM,MAAM,GAAG,UAAU,CAAC;YAC1B,IAAM,MAAM,GAAG,SAAS,CAAC;YACzB,OAAO;gBACN,SAAS,WAAA;gBACT,MAAM,QAAA;gBACN,MAAM,QAAA;gBACN,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,UAAU,GAAG,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;gBACtD,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,UAAU,GAAG,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;gBACtD,MAAM,EAAE,8BAA8B,CAAC,UAAU,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC;gBACzE,QAAQ,EAAE,OAA0B;aACpC,CAAC;SACF;IACF;;IC9CA;;;;;AAKA,aAAgB,aAAa,CAAC,KAAc;QAC3C,IAAI,KAAK,IAAI,IAAI;YAAE,OAAO,CAAC,CAAC;aACvB,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YACnC,OAAO,KAAK,CAAC;SACb;aAAM,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YACrC,OAAO,UAAU,CAAC,KAAK,CAAC,CAAC;SACzB;aAAM;YACN,OAAO,CAAC,CAAC;SACT;IACF;;ICdA;;;;;AAKA,aAAgB,iBAAiB,CAAC,KAA2C;QAC5E,OAAO,KAAK,IAAI,IAAI,IAAI,OAAO,KAAK,KAAK,QAAQ,CAAC;IACnD;;KAAC;;;;;;;ACQD,aAAgB,kBAAkB,CAAC,OAAyB,EAAE,IAAsB,EAAE,UAAqC,EAAE,CAAU;QACtI,mBAAmB,CAAC,gCAAgC,CAAC,UAAU,EAAE,CAAC,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IACrF,CAAC;IAED;;;;;;IAMA,SAAS,mBAAmB,CAAC,OAAkC,EAAE,OAAyB,EAAE,IAAsB;QACjH,IAAM,QAAQ,GAAG,iBAAiB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;;QAGrD,IAAI,QAAQ,IAAI,IAAI,IAAI,QAAQ,KAAK,MAAM,EAAE;YAC5C,8BAA8B,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,EAAE,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,CAAC;SACvF;aAAM;YACN,YAAY,CAAC,sBAAsB,CAAC,OAAO,EAAE,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;SAC/E;IACF,CAAC;IAED;;;;;;IAMA,SAAS,0BAA0B,CAAC,CAAqB,EAAE,CAAqB;QAC/E,OAAO;YACN,IAAI,EAAE,aAAa,CAAC,CAAC,CAAC;YACtB,GAAG,EAAE,aAAa,CAAC,CAAC,CAAC;SACrB,CAAC;IACH,CAAC;IAED;;;;;;IAMA,SAAS,gCAAgC,CAAC,UAAqC,EAAE,CAAU;;QAE1F,IAAI,CAAC,KAAK,SAAS,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE;YACtD,MAAM,IAAI,SAAS,CAAC,oFAAoF,CAAC,CAAC;SAC1G;;QAGD,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,EAAE;YACnC,6BACI,0BAA0B,CAAC,UAAU,EAAE,CAAC,CAAC,KAC5C,QAAQ,EAAE,MAAM,IACf;SACF;;aAGI;YACJ,6BACI,0BAA0B,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,CAAC,GAAG,CAAC,KAC9D,QAAQ,EAAE,UAAU,CAAC,QAAQ,IAAI,IAAI,GAAG,MAAM,GAAG,UAAU,CAAC,QAAQ,IACnE;SACF;IACF;;KAAC;;;ACvED,aAAgB,kBAAkB;QACjC,OAAO,CAAC,SAAS,CAAC,MAAM,GAAG,UAAwB,UAAqC,EAAE,CAAU;YACnG,kBAAkB,CAAC,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;SAClD,CAAC;IACH;;KAAC;;;ACJD,aAAgB,oBAAoB;QACnC,OAAO,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAwB,UAAqC,EAAE,CAAU;YACrG,kBAAkB,CAAC,IAAI,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;SACpD,CAAC;IACH;;KAAC;;;ACJD,aAAgB,oBAAoB;QACnC,OAAO,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAwB,UAAqC,EAAE,CAAU;YACrG,kBAAkB,CAAC,IAAI,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;SACpD,CAAC;IACH;;KAAC;;;ACJD,aAAgB,iBAAiB;QAChC,MAAM,CAAC,MAAM,GAAG,UAAuB,UAAqC,EAAE,CAAU;YACvF,kBAAkB,CAAC,IAAI,EAAE,QAAQ,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;SAClD,CAAC;IACH;;KAAC;;;ACJD,aAAgB,mBAAmB;QAClC,MAAM,CAAC,QAAQ,GAAG,UAAuB,UAAqC,EAAE,CAAU;YACzF,kBAAkB,CAAC,IAAI,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;SACpD,CAAC;IACH;;KAAC;;;ACJD,aAAgB,mBAAmB;QAClC,MAAM,CAAC,QAAQ,GAAG,UAAuB,UAAqC,EAAE,CAAU;YACzF,kBAAkB,CAAC,IAAI,EAAE,UAAU,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;SACpD,CAAC;IACH;;ICTA;IAEA;;;;;AAKA,aAAgB,SAAS,CAAC,cAA2B;QACpD,IAAI,UAAU,IAAI,cAAc,IAAW,cAAe,CAAC,QAAQ,KAAK,CAAC,EAAE;YAC1E,OAAc,cAAe,CAAC,UAAU,CAAC;SACzC;QAED,IAAI,YAAY,IAAI,MAAM,IAAI,cAAc,YAAkB,MAAO,CAAC,UAAU,EAAE;YACjF,OAAoB,cAAe,CAAC,IAAI,CAAC;SACzC;aAAM,IAAI,cAAc,KAAK,QAAQ,EAAE;YACvC,OAAO,MAAM,CAAC;SACd;aAAM,IAAI,cAAc,YAAY,IAAI;YAAE,OAAO,cAAc,CAAC,UAAU,CAAC;QAE5E,OAAO,IAAI,CAAC;IACb;;KAAC;;;;;ICVD,SAAS,WAAW,CAAC,QAAuB;QAC3C,OAAO,QAAQ,KAAK,SAAS,IAAI,QAAQ,KAAK,MAAM,CAAC;IACtD,CAAC;IAED;;;;;IAKA,SAAS,YAAY,CAAC,OAAgB;QACrC,IAAI,OAAO,CAAC,YAAY,GAAG,OAAO,CAAC,YAAY,IAAI,OAAO,CAAC,WAAW,GAAG,OAAO,CAAC,WAAW,EAAE;YAC7F,IAAM,KAAK,GAAG,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;YAC9C,OAAO,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;SACpE;QAED,OAAO,KAAK,CAAC;IACd,CAAC;IAED;;;;;AAKA,aAAgB,sCAAsC,CAAC,MAA6B;QACnF,IAAI,cAAc,GAA0B,MAAM,CAAC;QACnD,IAAM,gBAAgB,GAAG,mBAAmB,EAAE,CAAC;QAE/C,OAAO,cAAc,IAAI,IAAI,EAAE;YAC9B,IAAM,QAAQ,GAAG,iBAAiB,CAAC,cAAc,CAAC,CAAC;YACnD,IAAI,QAAQ,IAAI,IAAI,KAAK,cAAc,KAAK,gBAAgB,IAAI,YAAY,CAAC,cAAc,CAAC,CAAC,EAAE;gBAC9F,OAAO,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC;aAClC;YAED,IAAM,QAAM,GAAG,SAAS,CAAC,cAAc,CAAC,CAAC;YACzC,cAAc,GAAG,QAAiB,CAAC;SACnC;;QAGD,cAAc,GAAG,MAAM,CAAC;QAExB,OAAO,cAAc,IAAI,IAAI,EAAE;YAC9B,IAAI,cAAc,KAAK,gBAAgB,IAAI,YAAY,CAAC,cAAc,CAAC,EAAE;gBACxE,OAAO,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;aAChC;YAED,IAAM,QAAM,GAAG,SAAS,CAAC,cAAc,CAAC,CAAC;YACzC,cAAc,GAAG,QAAiB,CAAC;SACnC;;QAGD,OAAO,CAAC,gBAAgB,EAAE,MAAM,CAAC,CAAC;IACnC;;KAAC;ICxDD;;;;;AAKA,aAAgB,eAAe,CAAC,MAAe;QAC9C,IAAI,cAAc,GAAuB,MAAM,CAAC;QAChD,OAAO,cAAc,IAAI,IAAI,EAAE;YAC9B,IAAI,YAAY,IAAI,MAAM,IAAI,cAAc,YAAa,MAAc,CAAC,UAAU,EAAE;;gBAEnF,OAAO,cAA4B,CAAC;aACpC;YAED,IAAM,QAAM,GAAG,SAAS,CAAC,cAAc,CAAC,CAAC;YAEzC,IAAI,QAAM,KAAK,cAAc,EAAE;gBAC9B,OAAO,QAAQ,CAAC;aAChB;YAED,cAAc,GAAG,QAAM,CAAC;SACxB;QACD,OAAO,QAAQ,CAAC;IACjB;;IC1BA;;;;AAIA,aAAgB,iBAAiB,CAAC,YAAqD;QAArD,6BAAA,EAAA,uBAAqD;QACtF,IAAI,QAAQ,IAAI,YAAY,IAAI,YAAY,CAAC,MAAM,IAAI,IAAI,EAAE;YAC5D,OAAO,YAAY,CAAC,MAAM,CAAC;SAC3B;QAED,IAAI,IAAI,GAAG,YAAY,CAAC,IAAI,IAAI,IAAI,IAAI,YAAY,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,MAAI,YAAY,CAAC,IAAM,GAAG,EAAE,CAAC;QAEpG,IAAI,YAAY,CAAC,QAAQ,KAAK,OAAO,IAAI,IAAI,KAAK,KAAK,EAAE;YACxD,IAAI,GAAG,EAAE,CAAC;SACV;aAAM,IAAI,YAAY,CAAC,QAAQ,KAAK,QAAQ,IAAI,IAAI,KAAK,MAAM,EAAE;YACjE,IAAI,GAAG,EAAE,CAAC;SACV;QAED,OAAU,YAAY,CAAC,QAAQ,UAAK,YAAY,CAAC,QAAQ,GAAG,IAAM,CAAC;IACpE;;KAAC;;;;ICVD,IAAM,4BAA4B,GAAG,MAAM,CAAC;IAE5C;;;;AAIA,aAAgB,eAAe;;QAE9B,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,UAAA,CAAC;;YAEjC,IAAI,CAAC,CAAC,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC,MAAM,YAAY,iBAAiB,CAAC;gBAAE,OAAO;YAE/D,IAAA,aAAmC,EAAlC,sBAAQ,EAAE,kBAAM,EAAE,cAAgB,CAAC;YAC1C,IAAM,mBAAmB,GACxB,iBAAiB,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,iBAAiB,CAAC,QAAQ,CAAC,IAAI,QAAQ,KAAK,QAAQ,CAAC,QAAQ,IAAI,MAAM,KAAK,QAAQ,CAAC,MAAM,CAAC;;YAG7H,IAAI,CAAC,mBAAmB,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;gBAC5D,OAAO;aACP;;YAGD,IAAM,IAAI,GAAG,eAAe,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;;YAGvC,IAAM,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,4BAA4B,CAAC,IAAI,IAAI,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;;YAGtI,IAAI,YAAY,IAAI,IAAI;gBAAE,OAAO;;YAG3B,IAAA,oEAAmE,EAAhE,gBAAgE,CAAC;;YAG1E,IAAI,QAAQ,KAAK,QAAQ;gBAAE,OAAO;;YAGlC,CAAC,CAAC,cAAc,EAAE,CAAC;;YAGnB,YAAY,CAAC,cAAc,CAAC;gBAC3B,QAAQ,UAAA;aACR,CAAC,CAAC;SACH,CAAC,CAAC;IACJ;;KAAC,GClDY,iCAAiC,GAAG,uBAAuB,GAAG,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,cAAc;;ICFvH;;;;AAIA,IAkBA;;;;;;;;;IASA,SAAS,YAAY,CACpB,kBAA0B,EAC1B,gBAAwB,EACxB,aAAqB,EACrB,oBAA4B,EAC5B,kBAA0B,EAC1B,gBAAwB,EACxB,cAAsB,EACtB,WAAmB;;;;;;;;;;;;;;;;;;;;QAqBnB,IACC,CAAC,gBAAgB,GAAG,kBAAkB,IAAI,cAAc,GAAG,gBAAgB;aAC1E,gBAAgB,GAAG,kBAAkB,IAAI,cAAc,GAAG,gBAAgB,CAAC,EAC3E;YACD,OAAO,CAAC,CAAC;SACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAyCD,IACC,CAAC,gBAAgB,IAAI,kBAAkB,IAAI,WAAW,IAAI,aAAa;aACtE,cAAc,IAAI,gBAAgB,IAAI,WAAW,IAAI,aAAa,CAAC,EACnE;YACD,OAAO,gBAAgB,GAAG,kBAAkB,GAAG,oBAAoB,CAAC;SACpE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;QA0CD,IAAI,CAAC,cAAc,GAAG,gBAAgB,IAAI,WAAW,GAAG,aAAa,MAAM,gBAAgB,GAAG,kBAAkB,IAAI,WAAW,GAAG,aAAa,CAAC,EAAE;YACjJ,OAAO,cAAc,GAAG,gBAAgB,GAAG,kBAAkB,CAAC;SAC9D;QAED,OAAO,CAAC,CAAC;IACV,CAAC;AAED,aAAgB,qBAAqB,CAAC,MAAe,EAAE,QAAiB,EAAE,OAA8B;QAChG,IAAA,qBAAK,EAAE,uBAAM,CAAY;;QAGhC,IAAM,gBAAgB,GAAG,mBAAmB,EAAE,CAAC;;;;;;QAO/C,IAAM,aAAa,GAAI,MAA6B,CAAC,cAAc,IAAI,IAAI,GAAG,cAAc,CAAC,KAAK,GAAG,UAAU,CAAC;QAChH,IAAM,cAAc,GAAI,MAA6B,CAAC,cAAc,IAAI,IAAI,GAAG,cAAc,CAAC,MAAM,GAAG,WAAW,CAAC;QAEnH,IAAM,SAAS,GAAG,MAAM,CAAC,OAAO,IAAI,IAAI,GAAG,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,WAAW,CAAC;QAC/E,IAAM,SAAS,GAAG,MAAM,CAAC,OAAO,IAAI,IAAI,GAAG,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC,WAAW,CAAC;QAEzE,IAAA,mCAO4B,EANjC,wBAAoB,EACpB,sBAAkB,EAClB,kBAAc,EACd,sBAAkB,EAClB,wBAAoB,EACpB,oBACiC,CAAC;;QAGnC,IAAM,WAAW,GAAW,KAAK,KAAK,OAAO,IAAI,KAAK,KAAK,SAAS,GAAG,SAAS,GAAG,KAAK,KAAK,KAAK,GAAG,YAAY,GAAG,SAAS,GAAG,YAAY,GAAG,CAAC,CAAC;QACjJ,IAAM,YAAY,GAAW,MAAM,KAAK,QAAQ,GAAG,UAAU,GAAG,WAAW,GAAG,CAAC,GAAG,MAAM,KAAK,KAAK,GAAG,WAAW,GAAG,UAAU,CAAC;QAExH,IAAA,qCAA4E,EAA3E,kBAAM,EAAE,gBAAK,EAAE,YAAG,EAAE,gBAAK,EAAE,kBAAM,EAAE,cAAwC,CAAC;QAEnF,IAAM,UAAU,GAAG,gBAAgB,CAAC,QAAQ,CAAC,CAAC;QAC9C,IAAM,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC,eAAyB,EAAE,EAAE,CAAC,CAAC;QACtE,IAAM,SAAS,GAAG,QAAQ,CAAC,UAAU,CAAC,cAAwB,EAAE,EAAE,CAAC,CAAC;QACpE,IAAM,WAAW,GAAG,QAAQ,CAAC,UAAU,CAAC,gBAA0B,EAAE,EAAE,CAAC,CAAC;QACxE,IAAM,YAAY,GAAG,QAAQ,CAAC,UAAU,CAAC,iBAA2B,EAAE,EAAE,CAAC,CAAC;QAE1E,IAAI,WAAW,GAAW,CAAC,CAAC;QAC5B,IAAI,YAAY,GAAW,CAAC,CAAC;;;QAI7B,IAAM,cAAc,GACnB,aAAa,IAAI,QAAQ,GAAI,QAAwB,CAAC,WAAW,GAAI,QAAwB,CAAC,WAAW,GAAG,UAAU,GAAG,WAAW,GAAG,CAAC,CAAC;QAC1I,IAAM,eAAe,GACpB,cAAc,IAAI,QAAQ,GAAI,QAAwB,CAAC,YAAY,GAAI,QAAwB,CAAC,YAAY,GAAG,SAAS,GAAG,YAAY,GAAG,CAAC,CAAC;QAE7I,IAAI,gBAAgB,KAAK,QAAQ,EAAE;;YAGlC,IAAI,KAAK,KAAK,OAAO,EAAE;gBACtB,WAAW,GAAG,WAAW,CAAC;aAC1B;iBAAM,IAAI,KAAK,KAAK,KAAK,EAAE;gBAC3B,WAAW,GAAG,WAAW,GAAG,cAAc,CAAC;aAC3C;iBAAM,IAAI,KAAK,KAAK,SAAS,EAAE;gBAC/B,WAAW,GAAG,YAAY,CACzB,SAAS,EACT,SAAS,GAAG,cAAc,EAC1B,cAAc,EACd,SAAS,EACT,YAAY,EACZ,SAAS,GAAG,WAAW,EACvB,SAAS,GAAG,WAAW,GAAG,YAAY,EACtC,YAAY,CACZ,CAAC;aACF;iBAAM;;gBAEN,WAAW,GAAG,WAAW,GAAG,cAAc,GAAG,CAAC,CAAC;aAC/C;YAED,IAAI,MAAM,KAAK,OAAO,EAAE;gBACvB,YAAY,GAAG,YAAY,CAAC;aAC5B;iBAAM,IAAI,MAAM,KAAK,QAAQ,EAAE;gBAC/B,YAAY,GAAG,YAAY,GAAG,aAAa,GAAG,CAAC,CAAC;aAChD;iBAAM,IAAI,MAAM,KAAK,KAAK,EAAE;gBAC5B,YAAY,GAAG,YAAY,GAAG,aAAa,CAAC;aAC5C;iBAAM;;gBAEN,YAAY,GAAG,YAAY,CAC1B,SAAS,EACT,SAAS,GAAG,aAAa,EACzB,aAAa,EACb,UAAU,EACV,WAAW,EACX,SAAS,GAAG,YAAY,EACxB,SAAS,GAAG,YAAY,GAAG,WAAW,EACtC,WAAW,CACX,CAAC;aACF;;;YAID,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,WAAW,GAAG,SAAS,CAAC,CAAC;YACnD,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,YAAY,GAAG,SAAS,CAAC,CAAC;SACrD;aAAM;;YAGN,IAAI,KAAK,KAAK,OAAO,EAAE;gBACtB,WAAW,GAAG,WAAW,GAAG,GAAG,GAAG,SAAS,CAAC;aAC5C;iBAAM,IAAI,KAAK,KAAK,KAAK,EAAE;gBAC3B,WAAW,GAAG,WAAW,GAAG,MAAM,GAAG,YAAY,GAAG,eAAe,CAAC;aACpE;iBAAM,IAAI,KAAK,KAAK,SAAS,EAAE;gBAC/B,WAAW,GAAG,YAAY,CACzB,GAAG,EACH,MAAM,EACN,MAAM,EACN,SAAS,EACT,YAAY,GAAG,eAAe,EAC9B,WAAW,EACX,WAAW,GAAG,YAAY,EAC1B,YAAY,CACZ,CAAC;aACF;iBAAM;;gBAEN,WAAW,GAAG,WAAW,IAAI,GAAG,GAAG,MAAM,GAAG,CAAC,CAAC,GAAG,eAAe,GAAG,CAAC,CAAC;aACrE;YAED,IAAI,MAAM,KAAK,OAAO,EAAE;gBACvB,YAAY,GAAG,YAAY,GAAG,IAAI,GAAG,UAAU,CAAC;aAChD;iBAAM,IAAI,MAAM,KAAK,QAAQ,EAAE;gBAC/B,YAAY,GAAG,YAAY,IAAI,IAAI,GAAG,KAAK,GAAG,CAAC,CAAC,GAAG,cAAc,GAAG,CAAC,CAAC;aACtE;iBAAM,IAAI,MAAM,KAAK,KAAK,EAAE;gBAC5B,YAAY,GAAG,YAAY,GAAG,KAAK,GAAG,WAAW,GAAG,cAAc,CAAC;aACnE;iBAAM;;gBAEN,YAAY,GAAG,YAAY,CAC1B,IAAI,EACJ,KAAK,EACL,KAAK,EACL,UAAU,EACV,WAAW,GAAG,cAAc,EAC5B,YAAY,EACZ,YAAY,GAAG,WAAW,EAC1B,WAAW,CACX,CAAC;aACF;YAEM,IAAA,gCAAU,EAAE,8BAAS,CAAa;;YAEzC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,SAAS,GAAG,WAAW,EAAE,QAAQ,CAAC,YAAY,GAAG,MAAM,GAAG,eAAe,CAAC,CAAC,CAAC;YAC/G,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,GAAG,YAAY,EAAE,QAAQ,CAAC,WAAW,GAAG,KAAK,GAAG,cAAc,CAAC,CAAC,CAAC;SAC/G;QAED,OAAO;YACN,GAAG,EAAE,WAAW;YAChB,IAAI,EAAE,YAAY;SAClB,CAAC;IACH;;KAAC;;;AC5SD,aAAgB,0BAA0B;QACzC,OAAO,CAAC,SAAS,CAAC,cAAc,GAAG,UAAwB,GAAqC;YAC/F,IAAM,iBAAiB,GACtB,GAAG,IAAI,IAAI,IAAI,GAAG,KAAK,IAAI;kBACxB;oBACA,KAAK,EAAE,OAAO;oBACd,MAAM,EAAE,SAAS;iBAChB;kBACD,GAAG,KAAK,KAAK;sBACb;wBACA,KAAK,EAAE,KAAK;wBACZ,MAAM,EAAE,SAAS;qBAChB;sBACD,GAAG,CAAC;;YAGF,IAAA,4DAA+F,EAA9F,0BAAkB,EAAE,kCAA0E,CAAC;YAEtG,IAAM,QAAQ,GAAG,iBAAiB,CAAC,QAAQ,IAAI,IAAI,GAAG,iBAAiB,CAAC,QAAQ,GAAG,0BAA0B,CAAC;;YAG9G,IAAI,QAAQ,KAAK,QAAQ,EAAE;;gBAE1B,IAAI,iCAAiC,IAAI,IAAI,EAAE;oBAC9C,iCAAiC,CAAC,IAAI,CAAC,IAAI,EAAE,iBAAiB,CAAC,CAAC;iBAChE;;qBAGI;oBACE,IAAA,uEAAgF,EAA/E,cAAG,EAAE,cAA0E,CAAC;oBACvF,8BAA8B,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,KAAG,CAAC,CAAC;iBACvE;gBACD,OAAO;aACP;YAED,kBAAkB,CAAC,QAAQ,YAC1B,QAAQ,UAAA,IACL,qBAAqB,CAAC,IAAI,EAAE,kBAAkB,EAAE,iBAAiB,CAAC,EACpE,CAAC;SACH,CAAC;;QAGF,IAAI,WAAW,CAAC,SAAS,CAAC,cAAc,IAAI,IAAI,IAAI,WAAW,CAAC,SAAS,CAAC,cAAc,KAAK,OAAO,CAAC,SAAS,CAAC,cAAc,EAAE;YAC9H,WAAW,CAAC,SAAS,CAAC,cAAc,GAAG,OAAO,CAAC,SAAS,CAAC,cAAc,CAAC;SACxE;IACF;;KAAC,GCnDY,0CAA0C,GAAG,uBAAuB;UAC9E,SAAS;UACT,MAAM,CAAC,wBAAwB,CAAC,OAAO,CAAC,SAAS,EAAE,WAAW,CAAE,CAAC,GAAI;;;;;ACExE,aAAgB,qBAAqB;QACpC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS,EAAE,WAAW,EAAE;YACrD,GAAG,EAAH,UAAI,SAAiB;gBACpB,IAAI,IAAI,CAAC,yBAAyB,EAAE;oBACnC,OAAO,0CAA2C,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;iBACzE;gBAED,kBAAkB,CAAC,IAAI,EAAE,UAAU,EAAE,IAAI,CAAC,UAAU,EAAE,SAAS,CAAC,CAAC;gBACjE,OAAO,SAAS,CAAC;aACjB;SACD,CAAC,CAAC;IACJ;;KAAC,GCfY,2CAA2C,GAAG,uBAAuB;UAC/E,SAAS;UACT,MAAM,CAAC,wBAAwB,CAAC,OAAO,CAAC,SAAS,EAAE,YAAY,CAAE,CAAC,GAAI;;;;;ACEzE,aAAgB,sBAAsB;QACrC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,SAAS,EAAE,YAAY,EAAE;YACtD,GAAG,EAAH,UAAI,UAAkB;gBACrB,IAAI,IAAI,CAAC,yBAAyB,EAAE;oBACnC,OAAO,2CAA4C,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;iBAC3E;gBAED,kBAAkB,CAAC,IAAI,EAAE,UAAU,EAAE,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;gBACjE,OAAO,UAAU,CAAC;aAClB;SACD,CAAC,CAAC;IACJ;;KAAC;;;ACHD,aAAgB,KAAK;;QAEpB,kBAAkB,EAAE,CAAC;QACrB,oBAAoB,EAAE,CAAC;QACvB,oBAAoB,EAAE,CAAC;QACvB,0BAA0B,EAAE,CAAC;;QAG7B,sBAAsB,EAAE,CAAC;QACzB,qBAAqB,EAAE,CAAC;;QAGxB,iBAAiB,EAAE,CAAC;QACpB,mBAAmB,EAAE,CAAC;QACtB,mBAAmB,EAAE,CAAC;;QAGtB,eAAe,EAAE,CAAC;IACnB;;KAAC;;;;AC1BD,IAAO,IAAM,yCAAyC,GAAG,uBAAuB;UAC7E,KAAK;UACL,QAAQ,IAAI,OAAO,CAAC,SAAS,IAAI,UAAU,IAAI,OAAO,CAAC,SAAS,IAAI,UAAU,IAAI,OAAO,CAAC,SAAS,IAAI,gBAAgB,IAAI,OAAO,CAAC,SAAS;;QCH3I,CAAC,uBAAuB,KAAK,CAAC,wBAAwB,IAAI,CAAC,yCAAyC,CAAC,EAAE;QAC1G,KAAK,EAAE,CAAC;;;"}